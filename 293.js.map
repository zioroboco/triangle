{"version":3,"sources":["webpack:///./node_modules/@most/scheduler/dist/index.es.js","webpack:///./node_modules/@most/prelude/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/prelude/dist/index.es.js","webpack:///./node_modules/most-subject/lib.es2015/attach.js","webpack:///./node_modules/most-subject/node_modules/@most/core/node_modules/@most/prelude/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/scheduler/node_modules/@most/prelude/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/scheduler/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/disposable/node_modules/@most/prelude/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/disposable/dist/index.es.js","webpack:///./node_modules/most-subject/node_modules/@most/core/dist/mostCore.es.js","webpack:///./node_modules/most-subject/lib.es2015/ProxyStream.js","webpack:///./node_modules/most-subject/lib.es2015/create.js","webpack:///./node_modules/most-subject/lib.es2015/end.js","webpack:///./node_modules/most-subject/lib.es2015/error.js","webpack:///./node_modules/most-subject/lib.es2015/event.js","webpack:///./node_modules/ramda/es/internal/_isPlaceholder.js","webpack:///./node_modules/ramda/es/internal/_curry1.js","webpack:///./node_modules/ramda/es/internal/_curry2.js","webpack:///./node_modules/ramda/es/internal/_isNumber.js","webpack:///./node_modules/ramda/es/range.js"],"names":["AwaitValue","value","this","AsyncGenerator","gen","front","back","resume","key","arg","result","Promise","resolve","then","settle","done","err","type","reject","next","_invoke","request","return","undefined","Symbol","asyncIterator","prototype","throw","classCallCheck","instance","Constructor","TypeError","ScheduledTask","time","localOffset","period","task","scheduler","active","run","error","e","dispose","cancel","RelativeScheduler","origin","currentTime","scheduleTask","delay","relative","cancelAll","f","runTask","Scheduler","timer","timeline","_this","_timer","_nextArrival","Infinity","_runReadyTasksBound","_runReadyTasks","now","Math","max","st","add","_scheduleNextRun","offset","remove","_reschedule","removeAll","isEmpty","_unschedule","clearTimer","nextArrival","_scheduleNextArrival","setTimer","runTasks","Timeline","tasks","length","insertByTime","i","binarySearch","getTime","events","at","x","a","l","findIndex","splice","removeAllFrom","t","slice","j","runReadyTasks","timeslots","push","newTimeslot","timeslot","spliceEvent","addEvent","insertAtTimeslot","scheduledTask","floor","b","Array","sortedArray","lo","hi","mid","y","ClockTimer","clock","_clock","dt","Asap","defer","runAsap","setTimeout","clearTimeout","RelativeClock","HRTimeClock","hrtime","hrt","clockRelativeTo","newPlatformClock","performance","process","Date","newDefaultScheduler","newDefaultTimer","id","curry2","curried","arguments","curry3","c","sink","stream","attach","g","this$1","asap","periodic","cancelAllTasks","predicate","schedulerRelativeTo","z","r","disposeNone","NONE","DisposeNone","disposeOnce","disposable","DisposeOnce","disposed","resource","DisposeWith","_dispose","_resource","disposeAll","ds","DisposeAll","disposeBoth","d1","d2","disposables","throwIfErrors","disposeCollectErrors","appendIfError","errors","d","DisposeAllError","Error","message","call","name","constructor","captureStackTrace","stack","formatErrorStacks","__proto__","Object","create","toString","formatErrorStack","s","tryDispose","fatalError","rethrow","propagateTask$1","PropagateTask","propagateEventTask$1","runEvent","propagateEndTask","runEnd","propagateErrorTask$1","runError","_run","event","_","end","empty","EMPTY","Empty","Never","NEVER","At","runAt","Periodic","Pipe","zipArrayValues$1","array","ZipArrayValues","keepLeft","values","source","ZipArrayValuesSink","Pipe$$1","index","SettableDisposable","setDisposable","runEffects$1","observer","RunEffectsSink","runStream","_end","_error","_disposable","tryDispose$1","run$1","RelativeSink","withLocalTime$1","WithLocalTime","relativeSink","Loop","stepper","seed","step","LoopSink","Scan","ScanSink","continueWith$1","ContinueWith","ContinueWithSink","_startNext","_continue","Filter","p","FilterSink","and","q","FilterMap","FilterMapSink","Map","MapSink","map$2","Tap","TapSink","IndexSink","Sink","invoke","args","apply","combine$1","stream1","stream2","combineArray$1","streams","Combine","sources","sinks","mergeSink","CombineSink","indexSink","awaiting","hasValue","fill","activeCount","indexedValue","_updateReady","LinkedList","head","prev","promises","all","mergeConcurrently$1","concurrency","mergeMapConcurrently$1","MergeConcurrently","Outer","pending","current","_addInner","_startInner","_initInner","innerSink","Inner","mapAndRun","_checkEnd","_endInner","inner","shift","outer","mergeArray","mergeStreams","Merge","appendSources","concat","MergeSink","indexValue","Sample","sampler","sampleSink","SampleSink","sourceDisposable","hold","samplerDisposable","SampleHold","Queue","capPow2","_capacity","_length","_head","len","_checkCapacity","size","_ensureCapacity","capacity","oldCapacity","last","src","srcIndex","dst","dstIndex","zipArray$1","Zip","buffers","zipSink","ZipSink","buffer","ready","emitZipped","ended","Switch","switchSink","SwitchSink","_disposeCurrent","Segment","_disposeInner","_errorInner","min","skipRepeatsWith$1","equals","SkipRepeats","SkipRepeatsSink","init","slice$1","start","sliceSource","commuteMapSlice","Slice","sliceStream","fusedStart","fusedEnd","fuseSlice","mapStream","sliceSink","SliceSink","skip","take","TakeWhile","takeWhileSink","TakeWhileSink","SkipWhile","SkipWhileSink","skipping","SkipAfter","SkipAfterSink","until$1","signal","Until","since$1","Since","maxSignal","Bound","UpperBound","TimeWindowSink","minSignal","LowerBound","Delay","delaySink","DelaySink","throttle$1","commuteMapThrottle","Throttle","fuseThrottle","throttleStream","ThrottleSink","Debounce","DebounceSink","_clearTimer","Await","AwaitSink","queue","_eventBound","_endBound","_errorBound","promise","_event","catch","SafeSink","tryEvent","tryEnd","disable","ErrorStream","RecoverWith","RecoverWithSink","nextSink","Multicast","MulticastSource","MulticastDisposable","initial","fs","xs","n","timeWindow","join","delayTime","extendStatics","__extends","setPrototypeOf","hasOwnProperty","__","ProxyStream","_super","attached","running","ProxyDisposable","cleanup","_isPlaceholder","_curry1","fn","f1","_curry2","f2","_b","_a","_isNumber","from","to"],"mappings":"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","file":"293.js","sourcesContent":["import { curry2, curry3, findIndex, removeAll } from '@most/prelude';\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar ScheduledTask = /*#__PURE__*/function () {\n  function ScheduledTask(time, localOffset, period, task, scheduler) {\n    classCallCheck(this, ScheduledTask);\n\n    this.time = time;\n    this.localOffset = localOffset;\n    this.period = period;\n    this.task = task;\n    this.scheduler = scheduler;\n    this.active = true;\n  }\n\n  ScheduledTask.prototype.run = function run() {\n    return this.task.run(this.time - this.localOffset);\n  };\n\n  ScheduledTask.prototype.error = function error(e) {\n    return this.task.error(this.time - this.localOffset, e);\n  };\n\n  ScheduledTask.prototype.dispose = function dispose() {\n    this.active = false;\n    this.scheduler.cancel(this);\n    return this.task.dispose();\n  };\n\n  return ScheduledTask;\n}();\n\nvar RelativeScheduler = /*#__PURE__*/function () {\n  function RelativeScheduler(origin, scheduler) {\n    classCallCheck(this, RelativeScheduler);\n\n    this.origin = origin;\n    this.scheduler = scheduler;\n  }\n\n  RelativeScheduler.prototype.currentTime = function currentTime() {\n    return this.scheduler.currentTime() - this.origin;\n  };\n\n  RelativeScheduler.prototype.scheduleTask = function scheduleTask(localOffset, delay, period, task) {\n    return this.scheduler.scheduleTask(localOffset + this.origin, delay, period, task);\n  };\n\n  RelativeScheduler.prototype.relative = function relative(origin) {\n    return new RelativeScheduler(origin + this.origin, this.scheduler);\n  };\n\n  RelativeScheduler.prototype.cancel = function cancel(task) {\n    return this.scheduler.cancel(task);\n  };\n\n  RelativeScheduler.prototype.cancelAll = function cancelAll(f) {\n    return this.scheduler.cancelAll(f);\n  };\n\n  return RelativeScheduler;\n}();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar defer = function defer(task) {\n  return Promise.resolve(task).then(runTask);\n};\n\nfunction runTask(task) {\n  try {\n    return task.run();\n  } catch (e) {\n    return task.error(e);\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Scheduler = /*#__PURE__*/function () {\n  function Scheduler(timer, timeline) {\n    var _this = this;\n\n    classCallCheck(this, Scheduler);\n\n    this.timer = timer;\n    this.timeline = timeline;\n\n    this._timer = null;\n    this._nextArrival = Infinity;\n\n    this._runReadyTasksBound = function () {\n      return _this._runReadyTasks(_this.currentTime());\n    };\n  }\n\n  Scheduler.prototype.currentTime = function currentTime() {\n    return this.timer.now();\n  };\n\n  Scheduler.prototype.scheduleTask = function scheduleTask(localOffset, delay, period, task) {\n    var time = this.currentTime() + Math.max(0, delay);\n    var st = new ScheduledTask(time, localOffset, period, task, this);\n\n    this.timeline.add(st);\n    this._scheduleNextRun();\n    return st;\n  };\n\n  Scheduler.prototype.relative = function relative(offset) {\n    return new RelativeScheduler(offset, this);\n  };\n\n  Scheduler.prototype.cancel = function cancel(task) {\n    task.active = false;\n    if (this.timeline.remove(task)) {\n      this._reschedule();\n    }\n  };\n\n  // @deprecated\n\n\n  Scheduler.prototype.cancelAll = function cancelAll(f) {\n    this.timeline.removeAll(f);\n    this._reschedule();\n  };\n\n  Scheduler.prototype._reschedule = function _reschedule() {\n    if (this.timeline.isEmpty()) {\n      this._unschedule();\n    } else {\n      this._scheduleNextRun(this.currentTime());\n    }\n  };\n\n  Scheduler.prototype._unschedule = function _unschedule() {\n    this.timer.clearTimer(this._timer);\n    this._timer = null;\n  };\n\n  Scheduler.prototype._scheduleNextRun = function _scheduleNextRun() {\n    // eslint-disable-line complexity\n    if (this.timeline.isEmpty()) {\n      return;\n    }\n\n    var nextArrival = this.timeline.nextArrival();\n\n    if (this._timer === null) {\n      this._scheduleNextArrival(nextArrival);\n    } else if (nextArrival < this._nextArrival) {\n      this._unschedule();\n      this._scheduleNextArrival(nextArrival);\n    }\n  };\n\n  Scheduler.prototype._scheduleNextArrival = function _scheduleNextArrival(nextArrival) {\n    this._nextArrival = nextArrival;\n    var delay = Math.max(0, nextArrival - this.currentTime());\n    this._timer = this.timer.setTimer(this._runReadyTasksBound, delay);\n  };\n\n  Scheduler.prototype._runReadyTasks = function _runReadyTasks() {\n    this._timer = null;\n    this.timeline.runTasks(this.currentTime(), runTask);\n    this._scheduleNextRun();\n  };\n\n  return Scheduler;\n}();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Timeline = /*#__PURE__*/function () {\n  function Timeline() {\n    classCallCheck(this, Timeline);\n\n    this.tasks = [];\n  }\n\n  Timeline.prototype.nextArrival = function nextArrival() {\n    return this.isEmpty() ? Infinity : this.tasks[0].time;\n  };\n\n  Timeline.prototype.isEmpty = function isEmpty() {\n    return this.tasks.length === 0;\n  };\n\n  Timeline.prototype.add = function add(st) {\n    insertByTime(st, this.tasks);\n  };\n\n  Timeline.prototype.remove = function remove(st) {\n    var i = binarySearch(getTime(st), this.tasks);\n\n    if (i >= 0 && i < this.tasks.length) {\n      var events = this.tasks[i].events;\n      var at = findIndex(st, events);\n      if (at >= 0) {\n        events.splice(at, 1);\n        if (events.length === 0) {\n          this.tasks.splice(i, 1);\n        }\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  // @deprecated\n\n\n  Timeline.prototype.removeAll = function removeAll$$1(f) {\n    for (var i = 0; i < this.tasks.length; ++i) {\n      removeAllFrom(f, this.tasks[i]);\n    }\n  };\n\n  Timeline.prototype.runTasks = function runTasks(t, runTask) {\n    var tasks = this.tasks;\n    var l = tasks.length;\n    var i = 0;\n\n    while (i < l && tasks[i].time <= t) {\n      ++i;\n    }\n\n    this.tasks = tasks.slice(i);\n\n    // Run all ready tasks\n    for (var j = 0; j < i; ++j) {\n      this.tasks = runReadyTasks(runTask, tasks[j].events, this.tasks);\n    }\n  };\n\n  return Timeline;\n}();\n\nfunction runReadyTasks(runTask, events, tasks) {\n  // eslint-disable-line complexity\n  for (var i = 0; i < events.length; ++i) {\n    var task = events[i];\n\n    if (task.active) {\n      runTask(task);\n\n      // Reschedule periodic repeating tasks\n      // Check active again, since a task may have canceled itself\n      if (task.period >= 0 && task.active) {\n        task.time = task.time + task.period;\n        insertByTime(task, tasks);\n      }\n    }\n  }\n\n  return tasks;\n}\n\nfunction insertByTime(task, timeslots) {\n  var l = timeslots.length;\n  var time = getTime(task);\n\n  if (l === 0) {\n    timeslots.push(newTimeslot(time, [task]));\n    return;\n  }\n\n  var i = binarySearch(time, timeslots);\n\n  if (i >= l) {\n    timeslots.push(newTimeslot(time, [task]));\n  } else {\n    insertAtTimeslot(task, timeslots, time, i);\n  }\n}\n\nfunction insertAtTimeslot(task, timeslots, time, i) {\n  var timeslot = timeslots[i];\n  if (time === timeslot.time) {\n    addEvent(task, timeslot.events, time);\n  } else {\n    timeslots.splice(i, 0, newTimeslot(time, [task]));\n  }\n}\n\nfunction addEvent(task, events) {\n  if (events.length === 0 || task.time >= events[events.length - 1].time) {\n    events.push(task);\n  } else {\n    spliceEvent(task, events);\n  }\n}\n\nfunction spliceEvent(task, events) {\n  for (var j = 0; j < events.length; j++) {\n    if (task.time < events[j].time) {\n      events.splice(j, 0, task);\n      break;\n    }\n  }\n}\n\nfunction getTime(scheduledTask) {\n  return Math.floor(scheduledTask.time);\n}\n\n// @deprecated\nfunction removeAllFrom(f, timeslot) {\n  timeslot.events = removeAll(f, timeslot.events);\n}\n\nfunction binarySearch(t, sortedArray) {\n  // eslint-disable-line complexity\n  var lo = 0;\n  var hi = sortedArray.length;\n  var mid = void 0,\n      y = void 0;\n\n  while (lo < hi) {\n    mid = Math.floor((lo + hi) / 2);\n    y = sortedArray[mid];\n\n    if (t === y.time) {\n      return mid;\n    } else if (t < y.time) {\n      hi = mid;\n    } else {\n      lo = mid + 1;\n    }\n  }\n  return hi;\n}\n\nvar newTimeslot = function newTimeslot(t, events) {\n  return { time: t, events: events };\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global setTimeout, clearTimeout */\n\nvar ClockTimer = /*#__PURE__*/function () {\n  function ClockTimer(clock) {\n    classCallCheck(this, ClockTimer);\n\n    this._clock = clock;\n  }\n\n  ClockTimer.prototype.now = function now() {\n    return this._clock.now();\n  };\n\n  ClockTimer.prototype.setTimer = function setTimer(f, dt) {\n    return dt <= 0 ? runAsap(f) : setTimeout(f, dt);\n  };\n\n  ClockTimer.prototype.clearTimer = function clearTimer(t) {\n    return t instanceof Asap ? t.cancel() : clearTimeout(t);\n  };\n\n  return ClockTimer;\n}();\n\nvar Asap = /*#__PURE__*/function () {\n  function Asap(f) {\n    classCallCheck(this, Asap);\n\n    this.f = f;\n    this.active = true;\n  }\n\n  Asap.prototype.run = function run() {\n    return this.active && this.f();\n  };\n\n  Asap.prototype.error = function error(e) {\n    throw e;\n  };\n\n  Asap.prototype.cancel = function cancel() {\n    this.active = false;\n  };\n\n  return Asap;\n}();\n\nfunction runAsap(f) {\n  var task = new Asap(f);\n  defer(task);\n  return task;\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global performance, process */\n\nvar RelativeClock = /*#__PURE__*/function () {\n  function RelativeClock(clock, origin) {\n    classCallCheck(this, RelativeClock);\n\n    this.origin = origin;\n    this.clock = clock;\n  }\n\n  RelativeClock.prototype.now = function now() {\n    return this.clock.now() - this.origin;\n  };\n\n  return RelativeClock;\n}();\n\nvar HRTimeClock = /*#__PURE__*/function () {\n  function HRTimeClock(hrtime, origin) {\n    classCallCheck(this, HRTimeClock);\n\n    this.origin = origin;\n    this.hrtime = hrtime;\n  }\n\n  HRTimeClock.prototype.now = function now() {\n    var hrt = this.hrtime(this.origin);\n    return (hrt[0] * 1e9 + hrt[1]) / 1e6;\n  };\n\n  return HRTimeClock;\n}();\n\nvar clockRelativeTo = function clockRelativeTo(clock) {\n  return new RelativeClock(clock, clock.now());\n};\n\nvar newPerformanceClock = function newPerformanceClock() {\n  return clockRelativeTo(performance);\n};\n\n// @deprecated will be removed in 2.0.0\n// Date.now is not monotonic, and performance.now is ubiquitous:\n// See https://caniuse.com/#search=performance.now\nvar newDateClock = function newDateClock() {\n  return clockRelativeTo(Date);\n};\n\nvar newHRTimeClock = function newHRTimeClock() {\n  return new HRTimeClock(process.hrtime, process.hrtime());\n};\n\nvar newPlatformClock = function newPlatformClock() {\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    return newPerformanceClock();\n  } else if (typeof process !== 'undefined' && typeof process.hrtime === 'function') {\n    return newHRTimeClock();\n  }\n\n  return newDateClock();\n};\n\n// Read the current time from the provided Scheduler\nvar currentTime = function currentTime(scheduler) {\n  return scheduler.currentTime();\n};\n\n// Schedule a task to run as soon as possible, but\n// not in the current call stack\nvar asap = /*#__PURE__*/curry2(function (task, scheduler) {\n  return scheduler.scheduleTask(0, 0, -1, task);\n});\n\n// Schedule a task to run after a millisecond delay\nvar delay = /*#__PURE__*/curry3(function (delay, task, scheduler) {\n  return scheduler.scheduleTask(0, delay, -1, task);\n});\n\n// Schedule a task to run periodically, with the\n// first run starting asap\nvar periodic = /*#__PURE__*/curry3(function (period, task, scheduler) {\n  return scheduler.scheduleTask(0, 0, period, task);\n});\n\n// Cancel a scheduledTask\nvar cancelTask = function cancelTask(scheduledTask) {\n  return scheduledTask.dispose();\n};\n\n// Cancel all ScheduledTasks for which a predicate\n// is true\n// @deprecated Will be removed in 2.0.0\nvar cancelAllTasks = /*#__PURE__*/curry2(function (predicate, scheduler) {\n  console.warn('DEPRECATED cancelAllTasks to be removed in 2.0.0');\n  return scheduler.cancelAll(predicate);\n});\n\nvar schedulerRelativeTo = /*#__PURE__*/curry2(function (offset, scheduler) {\n  return new RelativeScheduler(offset, scheduler);\n});\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar newScheduler = /*#__PURE__*/curry2(function (timer, timeline) {\n  return new Scheduler(timer, timeline);\n});\n\nvar newDefaultScheduler = function newDefaultScheduler() {\n  return new Scheduler(newDefaultTimer(), new Timeline());\n};\n\nvar newDefaultTimer = function newDefaultTimer() {\n  return new ClockTimer(newPlatformClock());\n};\nvar newClockTimer = function newClockTimer(clock) {\n  return new ClockTimer(clock);\n};\n\nvar newTimeline = function newTimeline() {\n  return new Timeline();\n};\n\nexport { newScheduler, newDefaultScheduler, newDefaultTimer, newClockTimer, newTimeline, RelativeClock, HRTimeClock, clockRelativeTo, newPerformanceClock, newDateClock, newHRTimeClock, newPlatformClock, currentTime, asap, delay, periodic, cancelTask, cancelAllTasks, schedulerRelativeTo };\n//# sourceMappingURL=index.es.js.map\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b;\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b;\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop(n, a) {\n  // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0');\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a;\n  }\n\n  if (n >= l) {\n    return [];\n  }\n\n  return unsafeDrop(n, a, l - n);\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop(n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b;\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail(a) {\n  return drop(1, a);\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy(a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b;\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b;\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce(f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r;\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace(x, i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b;\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove(i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) {\n    // exit early if index beyond end of array\n    return a;\n  }\n\n  if (l === 1) {\n    // exit early if index in bounds and length === 1\n    return [];\n  }\n\n  return unsafeRemove(i, a, l - 1);\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove(i, a, l) {\n  var b = new Array(l);\n  var j = void 0;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b;\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\n// @deprecated\nfunction removeAll(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x, i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b;\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex(x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike(x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function';\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function id(x) {\n  return x;\n};\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function compose(f, g) {\n  return function (x) {\n    return f(g(x));\n  };\n};\n\n// apply :: (a -> b) -> a -> b\nvar apply = function apply(f, x) {\n  return f(x);\n};\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2(f) {\n  function curried(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return function (b) {\n          return f(a, b);\n        };\n      default:\n        return f(a, b);\n    }\n  }\n  return curried;\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3(f) {\n  function curried(a, b, c) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry2(function (b, c) {\n          return f(a, b, c);\n        });\n      case 2:\n        return function (c) {\n          return f(a, b, c);\n        };\n      default:\n        return f(a, b, c);\n    }\n  }\n  return curried;\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4(f) {\n  function curried(a, b, c, d) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry3(function (b, c, d) {\n          return f(a, b, c, d);\n        });\n      case 2:\n        return curry2(function (c, d) {\n          return f(a, b, c, d);\n        });\n      case 3:\n        return function (d) {\n          return f(a, b, c, d);\n        };\n      default:\n        return f(a, b, c, d);\n    }\n  }\n  return curried;\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons (x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append (x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop (n, a) { // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0')\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a\n  }\n\n  if (n >= l) {\n    return []\n  }\n\n  return unsafeDrop(n, a, l - n)\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop (n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail (a) {\n  return drop(1, a)\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy (a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map (f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce (f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace (x, i, a) { // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove (i, a) {  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) { // exit early if index beyond end of array\n    return a\n  }\n\n  if (l === 1) { // exit early if index in bounds and length === 1\n    return []\n  }\n\n  return unsafeRemove(i, a, l - 1)\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove (i, a, l) {\n  var b = new Array(l);\n  var j;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\nfunction removeAll (f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x = (void 0), i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex (x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i\n    }\n  }\n  return -1\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike (x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function'\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function (x) { return x; };\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function (f, g) { return function (x) { return f(g(x)); }; };\n\n// apply :: (a -> b) -> a -> b\nvar apply = function (f, x) { return f(x); };\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2 (f) {\n  function curried (a, b) {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return function (b) { return f(a, b); }\n      default: return f(a, b)\n    }\n  }\n  return curried\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3 (f) {\n  function curried (a, b, c) { // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry2(function (b, c) { return f(a, b, c); })\n      case 2: return function (c) { return f(a, b, c); }\n      default:return f(a, b, c)\n    }\n  }\n  return curried\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4 (f) {\n  function curried (a, b, c, d) { // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry3(function (b, c, d) { return f(a, b, c, d); })\n      case 2: return curry2(function (c, d) { return f(a, b, c, d); })\n      case 3: return function (d) { return f(a, b, c, d); }\n      default:return f(a, b, c, d)\n    }\n  }\n  return curried\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","import { curry2 } from '@most/prelude';\nexport var attach = curry2(__attach);\nfunction __attach(sink, stream) {\n    return sink.attach(stream);\n}\n//# sourceMappingURL=attach.js.map","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b;\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b;\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop(n, a) {\n  // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0');\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a;\n  }\n\n  if (n >= l) {\n    return [];\n  }\n\n  return unsafeDrop(n, a, l - n);\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop(n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b;\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail(a) {\n  return drop(1, a);\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy(a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b;\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b;\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce(f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r;\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace(x, i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b;\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove(i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) {\n    // exit early if index beyond end of array\n    return a;\n  }\n\n  if (l === 1) {\n    // exit early if index in bounds and length === 1\n    return [];\n  }\n\n  return unsafeRemove(i, a, l - 1);\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove(i, a, l) {\n  var b = new Array(l);\n  var j = void 0;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b;\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\n// @deprecated\nfunction removeAll(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x, i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b;\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex(x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike(x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function';\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function id(x) {\n  return x;\n};\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function compose(f, g) {\n  return function (x) {\n    return f(g(x));\n  };\n};\n\n// apply :: (a -> b) -> a -> b\nvar apply = function apply(f, x) {\n  return f(x);\n};\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2(f) {\n  function curried(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return function (b) {\n          return f(a, b);\n        };\n      default:\n        return f(a, b);\n    }\n  }\n  return curried;\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3(f) {\n  function curried(a, b, c) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry2(function (b, c) {\n          return f(a, b, c);\n        });\n      case 2:\n        return function (c) {\n          return f(a, b, c);\n        };\n      default:\n        return f(a, b, c);\n    }\n  }\n  return curried;\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4(f) {\n  function curried(a, b, c, d) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry3(function (b, c, d) {\n          return f(a, b, c, d);\n        });\n      case 2:\n        return curry2(function (c, d) {\n          return f(a, b, c, d);\n        });\n      case 3:\n        return function (d) {\n          return f(a, b, c, d);\n        };\n      default:\n        return f(a, b, c, d);\n    }\n  }\n  return curried;\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b;\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b;\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop(n, a) {\n  // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0');\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a;\n  }\n\n  if (n >= l) {\n    return [];\n  }\n\n  return unsafeDrop(n, a, l - n);\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop(n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b;\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail(a) {\n  return drop(1, a);\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy(a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b;\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b;\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce(f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r;\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace(x, i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b;\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove(i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) {\n    // exit early if index beyond end of array\n    return a;\n  }\n\n  if (l === 1) {\n    // exit early if index in bounds and length === 1\n    return [];\n  }\n\n  return unsafeRemove(i, a, l - 1);\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove(i, a, l) {\n  var b = new Array(l);\n  var j = void 0;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b;\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\n// @deprecated\nfunction removeAll(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x, i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b;\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex(x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike(x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function';\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function id(x) {\n  return x;\n};\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function compose(f, g) {\n  return function (x) {\n    return f(g(x));\n  };\n};\n\n// apply :: (a -> b) -> a -> b\nvar apply = function apply(f, x) {\n  return f(x);\n};\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2(f) {\n  function curried(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return function (b) {\n          return f(a, b);\n        };\n      default:\n        return f(a, b);\n    }\n  }\n  return curried;\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3(f) {\n  function curried(a, b, c) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry2(function (b, c) {\n          return f(a, b, c);\n        });\n      case 2:\n        return function (c) {\n          return f(a, b, c);\n        };\n      default:\n        return f(a, b, c);\n    }\n  }\n  return curried;\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4(f) {\n  function curried(a, b, c, d) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry3(function (b, c, d) {\n          return f(a, b, c, d);\n        });\n      case 2:\n        return curry2(function (c, d) {\n          return f(a, b, c, d);\n        });\n      case 3:\n        return function (d) {\n          return f(a, b, c, d);\n        };\n      default:\n        return f(a, b, c, d);\n    }\n  }\n  return curried;\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","import { curry2, curry3, findIndex, removeAll } from '@most/prelude';\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar ScheduledTask = function ScheduledTask (time, localOffset, period, task, scheduler) {\n  this.time = time;\n  this.localOffset = localOffset;\n  this.period = period;\n  this.task = task;\n  this.scheduler = scheduler;\n  this.active = true;\n};\n\nScheduledTask.prototype.run = function run () {\n  return this.task.run(this.time - this.localOffset)\n};\n\nScheduledTask.prototype.error = function error (e) {\n  return this.task.error(this.time - this.localOffset, e)\n};\n\nScheduledTask.prototype.dispose = function dispose () {\n  this.scheduler.cancel(this);\n  return this.task.dispose()\n};\n\nvar RelativeScheduler = function RelativeScheduler (origin, scheduler) {\n  this.origin = origin;\n  this.scheduler = scheduler;\n};\n\nRelativeScheduler.prototype.currentTime = function currentTime () {\n  return this.scheduler.currentTime() - this.origin\n};\n\nRelativeScheduler.prototype.scheduleTask = function scheduleTask (localOffset, delay, period, task) {\n  return this.scheduler.scheduleTask(localOffset + this.origin, delay, period, task)\n};\n\nRelativeScheduler.prototype.relative = function relative (origin) {\n  return new RelativeScheduler(origin + this.origin, this.scheduler)\n};\n\nRelativeScheduler.prototype.cancel = function cancel (task) {\n  return this.scheduler.cancel(task)\n};\n\nRelativeScheduler.prototype.cancelAll = function cancelAll (f) {\n  return this.scheduler.cancelAll(f)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar defer = function (task) { return Promise.resolve(task).then(runTask); };\n\nfunction runTask (task) {\n  try {\n    return task.run()\n  } catch (e) {\n    return task.error(e)\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Scheduler = function Scheduler (timer, timeline) {\n  var this$1 = this;\n\n  this.timer = timer;\n  this.timeline = timeline;\n\n  this._timer = null;\n  this._nextArrival = Infinity;\n\n  this._runReadyTasksBound = function () { return this$1._runReadyTasks(this$1.currentTime()); };\n};\n\nScheduler.prototype.currentTime = function currentTime () {\n  return this.timer.now()\n};\n\nScheduler.prototype.scheduleTask = function scheduleTask (localOffset, delay, period, task) {\n  var time = this.currentTime() + Math.max(0, delay);\n  var st = new ScheduledTask(time, localOffset, period, task, this);\n\n  this.timeline.add(st);\n  this._scheduleNextRun();\n  return st\n};\n\nScheduler.prototype.relative = function relative (offset) {\n  return new RelativeScheduler(offset, this)\n};\n\nScheduler.prototype.cancel = function cancel (task) {\n  task.active = false;\n  if (this.timeline.remove(task)) {\n    this._reschedule();\n  }\n};\n\nScheduler.prototype.cancelAll = function cancelAll (f) {\n  this.timeline.removeAll(f);\n  this._reschedule();\n};\n\nScheduler.prototype._reschedule = function _reschedule () {\n  if (this.timeline.isEmpty()) {\n    this._unschedule();\n  } else {\n    this._scheduleNextRun(this.currentTime());\n  }\n};\n\nScheduler.prototype._unschedule = function _unschedule () {\n  this.timer.clearTimer(this._timer);\n  this._timer = null;\n};\n\nScheduler.prototype._scheduleNextRun = function _scheduleNextRun () { // eslint-disable-line complexity\n  if (this.timeline.isEmpty()) {\n    return\n  }\n\n  var nextArrival = this.timeline.nextArrival();\n\n  if (this._timer === null) {\n    this._scheduleNextArrival(nextArrival);\n  } else if (nextArrival < this._nextArrival) {\n    this._unschedule();\n    this._scheduleNextArrival(nextArrival);\n  }\n};\n\nScheduler.prototype._scheduleNextArrival = function _scheduleNextArrival (nextArrival) {\n  this._nextArrival = nextArrival;\n  var delay = Math.max(0, nextArrival - this.currentTime());\n  this._timer = this.timer.setTimer(this._runReadyTasksBound, delay);\n};\n\nScheduler.prototype._runReadyTasks = function _runReadyTasks () {\n  this._timer = null;\n  this.timeline.runTasks(this.currentTime(), runTask);\n  this._scheduleNextRun();\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Timeline = function Timeline () {\n  this.tasks = [];\n};\n\nTimeline.prototype.nextArrival = function nextArrival () {\n  return this.isEmpty() ? Infinity : this.tasks[0].time\n};\n\nTimeline.prototype.isEmpty = function isEmpty () {\n  return this.tasks.length === 0\n};\n\nTimeline.prototype.add = function add (st) {\n  insertByTime(st, this.tasks);\n};\n\nTimeline.prototype.remove = function remove (st) {\n  var i = binarySearch(getTime(st), this.tasks);\n\n  if (i >= 0 && i < this.tasks.length) {\n    var at = findIndex(st, this.tasks[i].events);\n    if (at >= 0) {\n      this.tasks[i].events.splice(at, 1);\n      return true\n    }\n  }\n\n  return false\n};\n\nTimeline.prototype.removeAll = function removeAll$$1 (f) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.tasks.length; ++i) {\n    removeAllFrom(f, this$1.tasks[i]);\n  }\n};\n\nTimeline.prototype.runTasks = function runTasks (t, runTask) {\n    var this$1 = this;\n\n  var tasks = this.tasks;\n  var l = tasks.length;\n  var i = 0;\n\n  while (i < l && tasks[i].time <= t) {\n    ++i;\n  }\n\n  this.tasks = tasks.slice(i);\n\n  // Run all ready tasks\n  for (var j = 0; j < i; ++j) {\n    this$1.tasks = runReadyTasks(runTask, tasks[j].events, this$1.tasks);\n  }\n};\n\nfunction runReadyTasks (runTask, events, tasks) { // eslint-disable-line complexity\n  for (var i = 0; i < events.length; ++i) {\n    var task = events[i];\n\n    if (task.active) {\n      runTask(task);\n\n      // Reschedule periodic repeating tasks\n      // Check active again, since a task may have canceled itself\n      if (task.period >= 0 && task.active) {\n        task.time = task.time + task.period;\n        insertByTime(task, tasks);\n      }\n    }\n  }\n\n  return tasks\n}\n\nfunction insertByTime (task, timeslots) {\n  var l = timeslots.length;\n  var time = getTime(task);\n\n  if (l === 0) {\n    timeslots.push(newTimeslot(time, [task]));\n    return\n  }\n\n  var i = binarySearch(time, timeslots);\n\n  if (i >= l) {\n    timeslots.push(newTimeslot(time, [task]));\n  } else {\n    insertAtTimeslot(task, timeslots, time, i);\n  }\n}\n\nfunction insertAtTimeslot (task, timeslots, time, i) {\n  var timeslot = timeslots[i];\n  if (time === timeslot.time) {\n    addEvent(task, timeslot.events, time);\n  } else {\n    timeslots.splice(i, 0, newTimeslot(time, [task]));\n  }\n}\n\nfunction addEvent (task, events) {\n  if (events.length === 0 || task.time >= events[events.length - 1].time) {\n    events.push(task);\n  } else {\n    spliceEvent(task, events);\n  }\n}\n\nfunction spliceEvent (task, events) {\n  for (var j = 0; j < events.length; j++) {\n    if (task.time < events[j].time) {\n      events.splice(j, 0, task);\n      break\n    }\n  }\n}\n\nfunction getTime (scheduledTask) {\n  return Math.floor(scheduledTask.time)\n}\n\nfunction removeAllFrom (f, timeslot) {\n  timeslot.events = removeAll(f, timeslot.events);\n}\n\nfunction binarySearch (t, sortedArray) { // eslint-disable-line complexity\n  var lo = 0;\n  var hi = sortedArray.length;\n  var mid, y;\n\n  while (lo < hi) {\n    mid = Math.floor((lo + hi) / 2);\n    y = sortedArray[mid];\n\n    if (t === y.time) {\n      return mid\n    } else if (t < y.time) {\n      hi = mid;\n    } else {\n      lo = mid + 1;\n    }\n  }\n  return hi\n}\n\nvar newTimeslot = function (t, events) { return ({ time: t, events: events }); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global setTimeout, clearTimeout */\n\nvar ClockTimer = function ClockTimer (clock) {\n  this._clock = clock;\n};\n\nClockTimer.prototype.now = function now () {\n  return this._clock.now()\n};\n\nClockTimer.prototype.setTimer = function setTimer (f, dt) {\n  return dt <= 0 ? runAsap(f) : setTimeout(f, dt)\n};\n\nClockTimer.prototype.clearTimer = function clearTimer (t) {\n  return t instanceof Asap ? t.cancel() : clearTimeout(t)\n};\n\nvar Asap = function Asap (f) {\n  this.f = f;\n  this.active = true;\n};\n\nAsap.prototype.run = function run () {\n  return this.active && this.f()\n};\n\nAsap.prototype.error = function error (e) {\n  throw e\n};\n\nAsap.prototype.cancel = function cancel () {\n  this.active = false;\n};\n\nfunction runAsap (f) {\n  var task = new Asap(f);\n  defer(task);\n  return task\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global performance, process */\n\nvar RelativeClock = function RelativeClock (clock, origin) {\n  this.origin = origin;\n  this.clock = clock;\n};\n\nRelativeClock.prototype.now = function now () {\n  return this.clock.now() - this.origin\n};\n\nvar HRTimeClock = function HRTimeClock (hrtime, origin) {\n  this.origin = origin;\n  this.hrtime = hrtime;\n};\n\nHRTimeClock.prototype.now = function now () {\n  var hrt = this.hrtime(this.origin);\n  return (hrt[0] * 1e9 + hrt[1]) / 1e6\n};\n\nvar clockRelativeTo = function (clock) { return new RelativeClock(clock, clock.now()); };\n\nvar newPerformanceClock = function () { return clockRelativeTo(performance); };\n\nvar newDateClock = function () { return clockRelativeTo(Date); };\n\nvar newHRTimeClock = function () { return new HRTimeClock(process.hrtime, process.hrtime()); };\n\nvar newPlatformClock = function () {\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    return newPerformanceClock()\n  } else if (typeof process !== 'undefined' && typeof process.hrtime === 'function') {\n    return newHRTimeClock()\n  }\n\n  return newDateClock()\n};\n\n// Read the current time from the provided Scheduler\nvar currentTime = function (scheduler) { return scheduler.currentTime(); };\n\n// Schedule a task to run as soon as possible, but\n// not in the current call stack\nvar asap = curry2(function (task, scheduler) { return scheduler.scheduleTask(0, 0, -1, task); });\n\n// Schedule a task to run after a millisecond delay\nvar delay = curry3(function (delay, task, scheduler) { return scheduler.scheduleTask(0, delay, -1, task); });\n\n// Schedule a task to run periodically, with the\n// first run starting asap\nvar periodic = curry3(function (period, task, scheduler) { return scheduler.scheduleTask(0, 0, period, task); });\n\n// Cancel a scheduledTask\nvar cancelTask = function (scheduledTask) { return scheduledTask.dispose(); };\n\n// Cancel all ScheduledTasks for which a predicate\n// is true\nvar cancelAllTasks = curry2(function (predicate, scheduler) { return scheduler.cancelAll(predicate); });\n\nvar schedulerRelativeTo = curry2(function (offset, scheduler) { return new RelativeScheduler(offset, scheduler); });\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar newScheduler = curry2(function (timer, timeline) { return new Scheduler(timer, timeline); });\n\nvar newDefaultScheduler = function () { return new Scheduler(newDefaultTimer(), new Timeline()); };\n\nvar newDefaultTimer = function () { return new ClockTimer(newPlatformClock()); };\nvar newClockTimer = function (clock) { return new ClockTimer(clock); };\n\nvar newTimeline = function () { return new Timeline(); };\n\nexport { newScheduler, newDefaultScheduler, newDefaultTimer, newClockTimer, newTimeline, RelativeClock, HRTimeClock, clockRelativeTo, newPerformanceClock, newDateClock, newHRTimeClock, newPlatformClock, currentTime, asap, delay, periodic, cancelTask, cancelAllTasks, schedulerRelativeTo };\n//# sourceMappingURL=index.es.js.map\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b;\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append(x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b;\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop(n, a) {\n  // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0');\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a;\n  }\n\n  if (n >= l) {\n    return [];\n  }\n\n  return unsafeDrop(n, a, l - n);\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop(n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b;\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail(a) {\n  return drop(1, a);\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy(a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b;\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b;\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce(f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r;\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace(x, i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b;\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove(i, a) {\n  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0');\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) {\n    // exit early if index beyond end of array\n    return a;\n  }\n\n  if (l === 1) {\n    // exit early if index in bounds and length === 1\n    return [];\n  }\n\n  return unsafeRemove(i, a, l - 1);\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove(i, a, l) {\n  var b = new Array(l);\n  var j = void 0;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b;\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\n// @deprecated\nfunction removeAll(f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x, i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b;\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex(x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike(x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function';\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function id(x) {\n  return x;\n};\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function compose(f, g) {\n  return function (x) {\n    return f(g(x));\n  };\n};\n\n// apply :: (a -> b) -> a -> b\nvar apply = function apply(f, x) {\n  return f(x);\n};\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2(f) {\n  function curried(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return function (b) {\n          return f(a, b);\n        };\n      default:\n        return f(a, b);\n    }\n  }\n  return curried;\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3(f) {\n  function curried(a, b, c) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry2(function (b, c) {\n          return f(a, b, c);\n        });\n      case 2:\n        return function (c) {\n          return f(a, b, c);\n        };\n      default:\n        return f(a, b, c);\n    }\n  }\n  return curried;\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4(f) {\n  function curried(a, b, c, d) {\n    // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0:\n        return curried;\n      case 1:\n        return curry3(function (b, c, d) {\n          return f(a, b, c, d);\n        });\n      case 2:\n        return curry2(function (c, d) {\n          return f(a, b, c, d);\n        });\n      case 3:\n        return function (d) {\n          return f(a, b, c, d);\n        };\n      default:\n        return f(a, b, c, d);\n    }\n  }\n  return curried;\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","import { curry2, curry3, reduce } from '@most/prelude';\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar dispose = function (disposable) { return disposable.dispose(); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar disposeNone = function () { return NONE; };\nvar NONE = new ((function () {\n  function DisposeNone () {}\n\n  DisposeNone.prototype.dispose = function dispose () {};\n\n  return DisposeNone;\n}()))();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n// Wrap an existing disposable (which may not already have been once()d)\n// so that it will only dispose its underlying resource at most once.\nvar disposeOnce = function (disposable) { return new DisposeOnce(disposable); };\n\nvar DisposeOnce = function DisposeOnce (disposable) {\n  this.disposed = false;\n  this.disposable = disposable;\n};\n\nDisposeOnce.prototype.dispose = function dispose () {\n  if (!this.disposed) {\n    this.disposed = true;\n    this.disposable.dispose();\n    this.disposable = undefined;\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Create a Disposable that will use the provided\n// dispose function to dispose the resource\nvar disposeWith = curry2(function (dispose, resource) { return disposeOnce(new DisposeWith(dispose, resource)); });\n\n// Disposable represents a resource that must be\n// disposed/released. It aggregates a function to dispose\n// the resource and a handle to a key/id/handle/reference\n// that identifies the resource\nvar DisposeWith = function DisposeWith (dispose, resource) {\n  this._dispose = dispose;\n  this._resource = resource;\n};\n\nDisposeWith.prototype.dispose = function dispose () {\n  this._dispose(this._resource);\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Aggregate a list of disposables into a DisposeAll\nvar disposeAll = function (ds) { return new DisposeAll(ds); };\n\n// Convenience to aggregate 2 disposables\nvar disposeBoth = curry2(function (d1, d2) { return disposeAll([d1, d2]); });\n\nvar DisposeAll = function DisposeAll (disposables) {\n  this.disposables = disposables;\n};\n\nDisposeAll.prototype.dispose = function dispose () {\n  throwIfErrors(disposeCollectErrors(this.disposables));\n};\n\n// Dispose all, safely collecting errors into an array\nvar disposeCollectErrors = function (disposables) { return reduce(appendIfError, [], disposables); };\n\n// Call dispose and if throws, append thrown error to errors\nvar appendIfError = function (errors, d) {\n  try {\n    d.dispose();\n  } catch (e) {\n    errors.push(e);\n  }\n  return errors\n};\n\n// Throw DisposeAllError if errors is non-empty\nvar throwIfErrors = function (errors) {\n  if (errors.length > 0) {\n    throw new DisposeAllError(((errors.length) + \" errors\"), errors)\n  }\n};\n\n// Aggregate Error type for DisposeAll\nvar DisposeAllError = (function (Error) {\n  function DisposeAllError (message, errors) {\n    Error.call(this, message);\n    this.message = message;\n    this.name = this.constructor.name;\n    this.errors = errors;\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.stack = \"\" + (this.stack) + (formatErrorStacks(this.errors));\n  }\n\n  if ( Error ) DisposeAllError.__proto__ = Error;\n  DisposeAllError.prototype = Object.create( Error && Error.prototype );\n  DisposeAllError.prototype.constructor = DisposeAllError;\n\n  DisposeAllError.prototype.toString = function toString () {\n    return this.stack\n  };\n\n  return DisposeAllError;\n}(Error));\n\nvar formatErrorStacks = function (errors) { return reduce(formatErrorStack, '', errors); };\n\nvar formatErrorStack = function (s, e, i) { return s + \"\\n[\" + ((i + 1)) + \"] \" + (e.stack); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Try to dispose the disposable.  If it throws, send\n// the error to sink.error with the provided Time value\nvar tryDispose = curry3(function (t, disposable, sink) {\n  try {\n    disposable.dispose();\n  } catch (e) {\n    sink.error(t, e);\n  }\n});\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nexport { dispose, disposeNone, disposeWith, disposeOnce, disposeAll, disposeBoth, DisposeAllError, tryDispose };\n//# sourceMappingURL=index.es.js.map\n","import { append, apply, compose, curry2, curry3, findIndex, id, map, reduce, remove } from '@most/prelude';\nimport { asap, cancelAllTasks, currentTime, delay, periodic, schedulerRelativeTo } from '@most/scheduler';\nimport { disposeAll, disposeBoth, disposeNone, disposeOnce, tryDispose } from '@most/disposable';\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction fatalError (e) {\n  setTimeout(rethrow, 0, e);\n}\n\nfunction rethrow (e) {\n  throw e\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar propagateTask$1 = function (run, value, sink) { return new PropagateTask(run, value, sink); };\n\nvar propagateEventTask$1 = function (value, sink) { return propagateTask$1(runEvent, value, sink); };\n\nvar propagateEndTask = function (sink) { return propagateTask$1(runEnd, undefined, sink); };\n\nvar propagateErrorTask$1 = function (value, sink) { return propagateTask$1(runError, value, sink); };\n\nvar PropagateTask = function PropagateTask (run, value, sink) {\n  this._run = run;\n  this.value = value;\n  this.sink = sink;\n  this.active = true;\n};\n\nPropagateTask.prototype.dispose = function dispose () {\n  this.active = false;\n};\n\nPropagateTask.prototype.run = function run (t) {\n  if (!this.active) {\n    return\n  }\n  var run = this._run;\n  run(t, this.value, this.sink);\n};\n\nPropagateTask.prototype.error = function error (t, e) {\n  // TODO: Remove this check and just do this.sink.error(t, e)?\n  if (!this.active) {\n    return fatalError(e)\n  }\n  this.sink.error(t, e);\n};\n\nvar runEvent = function (t, x, sink) { return sink.event(t, x); };\n\nvar runEnd = function (t, _, sink) { return sink.end(t); };\n\nvar runError = function (t, e, sink) { return sink.error(t, e); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar empty = function () { return EMPTY; };\n\nvar Empty = function Empty () {};\n\nEmpty.prototype.run = function run (sink, scheduler) {\n  return asap(propagateEndTask(sink), scheduler)\n};\n\nvar EMPTY = new Empty();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar never = function () { return NEVER; };\n\nvar Never = function Never () {};\n\nNever.prototype.run = function run () {\n  return disposeNone()\n};\n\nvar NEVER = new Never();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar at = function (t, x) { return new At(t, x); };\n\nvar At = function At (t, x) {\n  this.time = t;\n  this.value = x;\n};\n\nAt.prototype.run = function run (sink, scheduler) {\n  return delay(this.time, propagateTask$1(runAt, this.value, sink), scheduler)\n};\n\nfunction runAt (t, x, sink) {\n  sink.event(t, x);\n  sink.end(t);\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar now = function (x) { return at(0, x); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Create a stream of events that occur at a regular period\n * @param {Number} period periodicity of events in millis\n * @returns {Stream} new stream of periodic events, the event value is undefined\n */\nvar periodic$1 = function (period) { return new Periodic(period); };\n\nvar Periodic = function Periodic (period) {\n  this.period = period;\n};\n\nPeriodic.prototype.run = function run (sink, scheduler) {\n  return periodic(this.period, propagateEventTask$1(undefined, sink), scheduler)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar newStream = function (run) { return new Stream(run); };\n\nvar Stream = function Stream (run) {\n  this.run = run;\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n/** @author Brian Cavalier */\n\nvar Pipe = function Pipe (sink) {\n  this.sink = sink;\n};\n\nPipe.prototype.event = function event (t, x) {\n  return this.sink.event(t, x)\n};\n\nPipe.prototype.end = function end (t) {\n  return this.sink.end(t)\n};\n\nPipe.prototype.error = function error (t, e) {\n  return this.sink.error(t, e)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar withArrayValues$1 = function (array, stream) { return zipArrayValues$1(keepLeft, array, stream); };\n\nvar zipArrayValues$1 = function (f, array, stream) { return array.length === 0 || stream === empty()\n    ? empty()\n    : new ZipArrayValues(f, array, stream); };\n\nvar keepLeft = function (a, _) { return a; };\n\nvar ZipArrayValues = function ZipArrayValues (f, values, source) {\n  this.f = f;\n  this.values = values;\n  this.source = source;\n};\n\nZipArrayValues.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new ZipArrayValuesSink(this.f, this.values, sink), scheduler)\n};\n\nvar ZipArrayValuesSink = (function (Pipe$$1) {\n  function ZipArrayValuesSink (f, values, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.values = values;\n    this.index = 0;\n  }\n\n  if ( Pipe$$1 ) ZipArrayValuesSink.__proto__ = Pipe$$1;\n  ZipArrayValuesSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ZipArrayValuesSink.prototype.constructor = ZipArrayValuesSink;\n\n  ZipArrayValuesSink.prototype.event = function event (t, b) {\n    var f = this.f;\n    this.sink.event(t, f(this.values[this.index], b));\n\n    this.index += 1;\n    if (this.index >= this.values.length) {\n      this.sink.end(t);\n    }\n  };\n\n  return ZipArrayValuesSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar SettableDisposable = function SettableDisposable () {\n  this.disposable = undefined;\n  this.disposed = false;\n};\n\nSettableDisposable.prototype.setDisposable = function setDisposable (disposable) {\n  if (this.disposable !== void 0) {\n    throw new Error('setDisposable called more than once')\n  }\n\n  this.disposable = disposable;\n\n  if (this.disposed) {\n    disposable.dispose();\n  }\n};\n\nSettableDisposable.prototype.dispose = function dispose () {\n  if (this.disposed) {\n    return\n  }\n\n  this.disposed = true;\n\n  if (this.disposable !== void 0) {\n    this.disposable.dispose();\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar runEffects$1 = curry2(function (stream, scheduler) { return new Promise(function (resolve, reject) { return runStream(stream, scheduler, resolve, reject); }); });\n\nfunction runStream (stream, scheduler, resolve, reject) {\n  var disposable = new SettableDisposable();\n  var observer = new RunEffectsSink(resolve, reject, disposable);\n\n  disposable.setDisposable(stream.run(observer, scheduler));\n}\n\nvar RunEffectsSink = function RunEffectsSink (end, error, disposable) {\n  this._end = end;\n  this._error = error;\n  this._disposable = disposable;\n  this.active = true;\n};\n\nRunEffectsSink.prototype.event = function event (t, x) {};\n\nRunEffectsSink.prototype.end = function end (t) {\n  if (!this.active) {\n    return\n  }\n  this._dispose(this._error, this._end, undefined);\n};\n\nRunEffectsSink.prototype.error = function error (t, e) {\n  this._dispose(this._error, this._error, e);\n};\n\nRunEffectsSink.prototype._dispose = function _dispose (error, end, x) {\n  this.active = false;\n  tryDispose$1(error, end, x, this._disposable);\n};\n\nfunction tryDispose$1 (error, end, x, disposable) {\n  try {\n    disposable.dispose();\n  } catch (e) {\n    error(e);\n    return\n  }\n\n  end(x);\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n// Run a Stream, sending all its events to the\n// provided Sink.\nvar run$1 = function (sink, scheduler, stream) { return stream.run(sink, scheduler); };\n\nvar RelativeSink = function RelativeSink (offset, sink) {\n  this.sink = sink;\n  this.offset = offset;\n};\n\nRelativeSink.prototype.event = function event (t, x) {\n  this.sink.event(t + this.offset, x);\n};\n\nRelativeSink.prototype.error = function error (t, e) {\n  this.sink.error(t + this.offset, e);\n};\n\nRelativeSink.prototype.end = function end (t) {\n  this.sink.end(t + this.offset);\n};\n\n// Create a stream with its own local clock\n// This transforms time from the provided scheduler's clock to a stream-local\n// clock (which starts at 0), and then *back* to the scheduler's clock before\n// propagating events to sink.  In other words, upstream sources will see local times,\n// and downstream sinks will see non-local (original) times.\nvar withLocalTime$1 = function (origin, stream) { return new WithLocalTime(origin, stream); };\n\nvar WithLocalTime = function WithLocalTime (origin, source) {\n  this.origin = origin;\n  this.source = source;\n};\n\nWithLocalTime.prototype.run = function run (sink, scheduler) {\n  return this.source.run(relativeSink(this.origin, sink), schedulerRelativeTo(this.origin, scheduler))\n};\n\n// Accumulate offsets instead of nesting RelativeSinks, which can happen\n// with higher-order stream and combinators like continueWith when they're\n// applied recursively.\nvar relativeSink = function (origin, sink) { return sink instanceof RelativeSink\n    ? new RelativeSink(origin + sink.offset, sink.sink)\n    : new RelativeSink(origin, sink); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Generalized feedback loop. Call a stepper function for each event. The stepper\n * will be called with 2 params: the current seed and the an event value.  It must\n * return a new { seed, value } pair. The `seed` will be fed back into the next\n * invocation of stepper, and the `value` will be propagated as the event value.\n * @param {function(seed:*, value:*):{seed:*, value:*}} stepper loop step function\n * @param {*} seed initial seed value passed to first stepper call\n * @param {Stream} stream event stream\n * @returns {Stream} new stream whose values are the `value` field of the objects\n * returned by the stepper\n */\nvar loop$1 = function (stepper, seed, stream) { return new Loop(stepper, seed, stream); };\n\nvar Loop = function Loop (stepper, seed, source) {\n  this.step = stepper;\n  this.seed = seed;\n  this.source = source;\n};\n\nLoop.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new LoopSink(this.step, this.seed, sink), scheduler)\n};\n\nvar LoopSink = (function (Pipe$$1) {\n  function LoopSink (stepper, seed, sink) {\n    Pipe$$1.call(this, sink);\n    this.step = stepper;\n    this.seed = seed;\n  }\n\n  if ( Pipe$$1 ) LoopSink.__proto__ = Pipe$$1;\n  LoopSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  LoopSink.prototype.constructor = LoopSink;\n\n  LoopSink.prototype.event = function event (t, x) {\n    var result = this.step(this.seed, x);\n    this.seed = result.seed;\n    this.sink.event(t, result.value);\n  };\n\n  return LoopSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Create a stream containing successive reduce results of applying f to\n * the previous reduce result and the current stream item.\n * @param {function(result:*, x:*):*} f reducer function\n * @param {*} initial initial value\n * @param {Stream} stream stream to scan\n * @returns {Stream} new stream containing successive reduce results\n */\nvar scan$1 = function (f, initial, stream) { return new Scan(f, initial, stream); };\n\nvar Scan = function Scan (f, z, source) {\n  this.source = source;\n  this.f = f;\n  this.value = z;\n};\n\nScan.prototype.run = function run (sink, scheduler) {\n  var d1 = asap(propagateEventTask$1(this.value, sink), scheduler);\n  var d2 = this.source.run(new ScanSink(this.f, this.value, sink), scheduler);\n  return disposeBoth(d1, d2)\n};\n\nvar ScanSink = (function (Pipe$$1) {\n  function ScanSink (f, z, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.value = z;\n  }\n\n  if ( Pipe$$1 ) ScanSink.__proto__ = Pipe$$1;\n  ScanSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ScanSink.prototype.constructor = ScanSink;\n\n  ScanSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    this.value = f(this.value, x);\n    this.sink.event(t, this.value);\n  };\n\n  return ScanSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar continueWith$1 = function (f, stream) { return new ContinueWith(f, stream); };\n\nvar ContinueWith = function ContinueWith (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nContinueWith.prototype.run = function run (sink, scheduler) {\n  return new ContinueWithSink(this.f, this.source, sink, scheduler)\n};\n\nvar ContinueWithSink = (function (Pipe$$1) {\n  function ContinueWithSink (f, source, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.disposable = disposeOnce(source.run(this, scheduler));\n  }\n\n  if ( Pipe$$1 ) ContinueWithSink.__proto__ = Pipe$$1;\n  ContinueWithSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ContinueWithSink.prototype.constructor = ContinueWithSink;\n\n  ContinueWithSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n    this.sink.event(t, x);\n  };\n\n  ContinueWithSink.prototype.end = function end (t) {\n    if (!this.active) {\n      return\n    }\n\n    tryDispose(t, this.disposable, this.sink);\n\n    this._startNext(t, this.sink);\n  };\n\n  ContinueWithSink.prototype._startNext = function _startNext (t, sink) {\n    try {\n      this.disposable = this._continue(this.f, t, sink);\n    } catch (e) {\n      sink.error(t, e);\n    }\n  };\n\n  ContinueWithSink.prototype._continue = function _continue (f, t, sink) {\n    return run$1(sink, this.scheduler, withLocalTime$1(t, f()))\n  };\n\n  ContinueWithSink.prototype.dispose = function dispose () {\n    this.active = false;\n    return this.disposable.dispose()\n  };\n\n  return ContinueWithSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar startWith$1 = function (x, stream) { return continueWith$1(function () { return stream; }, now(x)); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar Filter = function Filter (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nFilter.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new FilterSink(this.p, sink), scheduler)\n};\n\n/**\n * Create a filtered source, fusing adjacent filter.filter if possible\n * @param {function(x:*):boolean} p filtering predicate\n * @param {{run:function}} source source to filter\n * @returns {Filter} filtered source\n */\nFilter.create = function create (p, source) {\n  if (source instanceof Filter) {\n    return new Filter(and(source.p, p), source.source)\n  }\n\n  return new Filter(p, source)\n};\n\nvar FilterSink = (function (Pipe$$1) {\n  function FilterSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n  }\n\n  if ( Pipe$$1 ) FilterSink.__proto__ = Pipe$$1;\n  FilterSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  FilterSink.prototype.constructor = FilterSink;\n\n  FilterSink.prototype.event = function event (t, x) {\n    var p = this.p;\n    p(x) && this.sink.event(t, x);\n  };\n\n  return FilterSink;\n}(Pipe));\n\nvar and = function (p, q) { return function (x) { return p(x) && q(x); }; };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar FilterMap = function FilterMap (p, f, source) {\n  this.p = p;\n  this.f = f;\n  this.source = source;\n};\n\nFilterMap.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new FilterMapSink(this.p, this.f, sink), scheduler)\n};\n\nvar FilterMapSink = (function (Pipe$$1) {\n  function FilterMapSink (p, f, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) FilterMapSink.__proto__ = Pipe$$1;\n  FilterMapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  FilterMapSink.prototype.constructor = FilterMapSink;\n\n  FilterMapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    var p = this.p;\n    p(x) && this.sink.event(t, f(x));\n  };\n\n  return FilterMapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar Map = function Map (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nMap.prototype.run = function run (sink, scheduler) { // eslint-disable-line no-extend-native\n  return this.source.run(new MapSink(this.f, sink), scheduler)\n};\n\n/**\n * Create a mapped source, fusing adjacent map.map, filter.map,\n * and filter.map.map if possible\n * @param {function(*):*} f mapping function\n * @param {{run:function}} source source to map\n * @returns {Map|FilterMap} mapped source, possibly fused\n */\nMap.create = function create (f, source) {\n  if (source instanceof Map) {\n    return new Map(compose(f, source.f), source.source)\n  }\n\n  if (source instanceof Filter) {\n    return new FilterMap(source.p, f, source.source)\n  }\n\n  return new Map(f, source)\n};\n\nvar MapSink = (function (Pipe$$1) {\n  function MapSink (f, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) MapSink.__proto__ = Pipe$$1;\n  MapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  MapSink.prototype.constructor = MapSink;\n\n  MapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    this.sink.event(t, f(x));\n  };\n\n  return MapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Transform each value in the stream by applying f to each\n * @param {function(*):*} f mapping function\n * @param {Stream} stream stream to map\n * @returns {Stream} stream containing items transformed by f\n */\nvar map$2 = function (f, stream) { return Map.create(f, stream); };\n\n/**\n* Replace each value in the stream with x\n* @param {*} x\n* @param {Stream} stream\n* @returns {Stream} stream containing items replaced with x\n*/\nvar constant$1 = function (x, stream) { return map$2(function () { return x; }, stream); };\n\n/**\n* Perform a side effect for each item in the stream\n* @param {function(x:*):*} f side effect to execute for each item. The\n*  return value will be discarded.\n* @param {Stream} stream stream to tap\n* @returns {Stream} new stream containing the same items as this stream\n*/\nvar tap$1 = function (f, stream) { return new Tap(f, stream); };\n\nvar Tap = function Tap (f, source) {\n  this.source = source;\n  this.f = f;\n};\n\nTap.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new TapSink(this.f, sink), scheduler)\n};\n\nvar TapSink = (function (Pipe$$1) {\n  function TapSink (f, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) TapSink.__proto__ = Pipe$$1;\n  TapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TapSink.prototype.constructor = TapSink;\n\n  TapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    f(x);\n    this.sink.event(t, x);\n  };\n\n  return TapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar IndexSink = (function (Sink) {\n  function IndexSink (i, sink) {\n    Sink.call(this, sink);\n    this.index = i;\n    this.active = true;\n    this.value = undefined;\n  }\n\n  if ( Sink ) IndexSink.__proto__ = Sink;\n  IndexSink.prototype = Object.create( Sink && Sink.prototype );\n  IndexSink.prototype.constructor = IndexSink;\n\n  IndexSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n    this.value = x;\n    this.sink.event(t, this);\n  };\n\n  IndexSink.prototype.end = function end (t) {\n    if (!this.active) {\n      return\n    }\n    this.active = false;\n    this.sink.event(t, this);\n  };\n\n  return IndexSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction invoke (f, args) {\n  /* eslint complexity: [2,7] */\n  switch (args.length) {\n    case 0: return f()\n    case 1: return f(args[0])\n    case 2: return f(args[0], args[1])\n    case 3: return f(args[0], args[1], args[2])\n    case 4: return f(args[0], args[1], args[2], args[3])\n    case 5: return f(args[0], args[1], args[2], args[3], args[4])\n    default:\n      return f.apply(void 0, args)\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Combine latest events from two streams\n * @param {function(...events):*} f function to combine most recent events\n * @returns {Stream} stream containing the result of applying f to the most recent\n *  event of each input stream, whenever a new event arrives on any stream.\n */\nfunction combine$1 (f, stream1, stream2) {\n  return combineArray$1(f, [stream1, stream2])\n}\n\n/**\n* Combine latest events from all input streams\n* @param {function(...events):*} f function to combine most recent events\n* @param {[Stream]} streams most recent events\n* @returns {Stream} stream containing the result of applying f to the most recent\n*  event of each input stream, whenever a new event arrives on any stream.\n*/\nvar combineArray$1 = function (f, streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? map$2(f, streams[0])\n    : new Combine(f, streams); };\n\nvar Combine = function Combine (f, sources) {\n  this.f = f;\n  this.sources = sources;\n};\n\nCombine.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n\n  var mergeSink = new CombineSink(disposables, sinks, sink, this.f);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar CombineSink = (function (Pipe$$1) {\n  function CombineSink (disposables, sinks, sink, f) {\n    Pipe$$1.call(this, sink);\n    this.disposables = disposables;\n    this.sinks = sinks;\n    this.f = f;\n\n    var l = sinks.length;\n    this.awaiting = l;\n    this.values = new Array(l);\n    this.hasValue = new Array(l).fill(false);\n    this.activeCount = sinks.length;\n  }\n\n  if ( Pipe$$1 ) CombineSink.__proto__ = Pipe$$1;\n  CombineSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  CombineSink.prototype.constructor = CombineSink;\n\n  CombineSink.prototype.event = function event (t, indexedValue) {\n    if (!indexedValue.active) {\n      this._dispose(t, indexedValue.index);\n      return\n    }\n\n    var i = indexedValue.index;\n    var awaiting = this._updateReady(i);\n\n    this.values[i] = indexedValue.value;\n    if (awaiting === 0) {\n      this.sink.event(t, invoke(this.f, this.values));\n    }\n  };\n\n  CombineSink.prototype._updateReady = function _updateReady (index) {\n    if (this.awaiting > 0) {\n      if (!this.hasValue[index]) {\n        this.hasValue[index] = true;\n        this.awaiting -= 1;\n      }\n    }\n    return this.awaiting\n  };\n\n  CombineSink.prototype._dispose = function _dispose (t, index) {\n    tryDispose(t, this.disposables[index], this.sink);\n    if (--this.activeCount === 0) {\n      this.sink.end(t);\n    }\n  };\n\n  return CombineSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Assume fs is a stream containing functions, and apply the latest function\n * in fs to the latest value in xs.\n * fs:         --f---------g--------h------>\n * xs:         -a-------b-------c-------d-->\n * ap(fs, xs): --fa-----fb-gb---gc--hc--hd->\n * @param {Stream} fs stream of functions to apply to the latest x\n * @param {Stream} xs stream of values to which to apply all the latest f\n * @returns {Stream} stream containing all the applications of fs to xs\n */\nfunction ap$1 (fs, xs) {\n  return combine$1(apply, fs, xs)\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Doubly linked list\n * @constructor\n */\nvar LinkedList = function LinkedList () {\n  this.head = null;\n  this.length = 0;\n};\n\n/**\n * Add a node to the end of the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to add\n */\nLinkedList.prototype.add = function add (x) {\n  if (this.head !== null) {\n    this.head.prev = x;\n    x.next = this.head;\n  }\n  this.head = x;\n  ++this.length;\n};\n\n/**\n * Remove the provided node from the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to remove\n */\nLinkedList.prototype.remove = function remove$$1 (x) { // eslint-disable-linecomplexity\n  --this.length;\n  if (x === this.head) {\n    this.head = this.head.next;\n  }\n  if (x.next !== null) {\n    x.next.prev = x.prev;\n    x.next = null;\n  }\n  if (x.prev !== null) {\n    x.prev.next = x.next;\n    x.prev = null;\n  }\n};\n\n/**\n * @returns {boolean} true iff there are no nodes in the list\n */\nLinkedList.prototype.isEmpty = function isEmpty () {\n  return this.length === 0\n};\n\n/**\n * Dispose all nodes\n * @returns {Promise} promise that fulfills when all nodes have been disposed,\n *or rejects if an error occurs while disposing\n */\nLinkedList.prototype.dispose = function dispose () {\n  if (this.isEmpty()) {\n    return Promise.resolve()\n  }\n\n  var promises = [];\n  var x = this.head;\n  this.head = null;\n  this.length = 0;\n\n  while (x !== null) {\n    promises.push(x.dispose());\n    x = x.next;\n  }\n\n  return Promise.all(promises)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar mergeConcurrently$1 = function (concurrency, stream) { return mergeMapConcurrently$1(id, concurrency, stream); };\n\nvar mergeMapConcurrently$1 = function (f, concurrency, stream) { return new MergeConcurrently(f, concurrency, stream); };\n\nvar MergeConcurrently = function MergeConcurrently (f, concurrency, source) {\n  this.f = f;\n  this.concurrency = concurrency;\n  this.source = source;\n};\n\nMergeConcurrently.prototype.run = function run (sink, scheduler) {\n  return new Outer(this.f, this.concurrency, this.source, sink, scheduler)\n};\n\nvar Outer = function Outer (f, concurrency, source, sink, scheduler) {\n  this.f = f;\n  this.concurrency = concurrency;\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.pending = [];\n  this.current = new LinkedList();\n  this.disposable = disposeOnce(source.run(this, scheduler));\n  this.active = true;\n};\n\nOuter.prototype.event = function event (t, x) {\n  this._addInner(t, x);\n};\n\nOuter.prototype._addInner = function _addInner (t, x) {\n  if (this.current.length < this.concurrency) {\n    this._startInner(t, x);\n  } else {\n    this.pending.push(x);\n  }\n};\n\nOuter.prototype._startInner = function _startInner (t, x) {\n  try {\n    this._initInner(t, x);\n  } catch (e) {\n    this.error(t, e);\n  }\n};\n\nOuter.prototype._initInner = function _initInner (t, x) {\n  var innerSink = new Inner(t, this, this.sink);\n  innerSink.disposable = mapAndRun(this.f, t, x, innerSink, this.scheduler);\n  this.current.add(innerSink);\n};\n\nOuter.prototype.end = function end (t) {\n  this.active = false;\n  tryDispose(t, this.disposable, this.sink);\n  this._checkEnd(t);\n};\n\nOuter.prototype.error = function error (t, e) {\n  this.active = false;\n  this.sink.error(t, e);\n};\n\nOuter.prototype.dispose = function dispose () {\n  this.active = false;\n  this.pending.length = 0;\n  this.disposable.dispose();\n  this.current.dispose();\n};\n\nOuter.prototype._endInner = function _endInner (t, inner) {\n  this.current.remove(inner);\n  tryDispose(t, inner, this);\n\n  if (this.pending.length === 0) {\n    this._checkEnd(t);\n  } else {\n    this._startInner(t, this.pending.shift());\n  }\n};\n\nOuter.prototype._checkEnd = function _checkEnd (t) {\n  if (!this.active && this.current.isEmpty()) {\n    this.sink.end(t);\n  }\n};\n\nvar mapAndRun = function (f, t, x, sink, scheduler) { return f(x).run(sink, schedulerRelativeTo(t, scheduler)); };\n\nvar Inner = function Inner (time, outer, sink) {\n  this.prev = this.next = null;\n  this.time = time;\n  this.outer = outer;\n  this.sink = sink;\n  this.disposable = void 0;\n};\n\nInner.prototype.event = function event (t, x) {\n  this.sink.event(t + this.time, x);\n};\n\nInner.prototype.end = function end (t) {\n  this.outer._endInner(t + this.time, this);\n};\n\nInner.prototype.error = function error (t, e) {\n  this.outer.error(t + this.time, e);\n};\n\nInner.prototype.dispose = function dispose () {\n  return this.disposable.dispose()\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Map each value in the stream to a new stream, and merge it into the\n * returned outer stream. Event arrival times are preserved.\n * @param {function(x:*):Stream} f chaining function, must return a Stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nvar chain$1 = function (f, stream) { return mergeMapConcurrently$1(f, Infinity, stream); };\n\n/**\n * Monadic join. Flatten a Stream<Stream<X>> to Stream<X> by merging inner\n * streams to the outer. Event arrival times are preserved.\n * @param {Stream<Stream<X>>} stream stream of streams\n * @returns {Stream<X>} new stream containing all events of all inner streams\n */\nvar join = function (stream) { return mergeConcurrently$1(Infinity, stream); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Map each value in stream to a new stream, and concatenate them all\n * stream:              -a---b---cX\n * f(a):                 1-1-1-1X\n * f(b):                        -2-2-2-2X\n * f(c):                                -3-3-3-3X\n * stream.concatMap(f): -1-1-1-1-2-2-2-2-3-3-3-3X\n * @param {function(x:*):Stream} f function to map each value to a stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nvar concatMap$1 = function (f, stream) { return mergeMapConcurrently$1(f, 1, stream); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @returns {Stream} stream containing events from two streams in time order.\n * If two events are simultaneous they will be merged in arbitrary order.\n */\nfunction merge$1 (stream1, stream2) {\n  return mergeArray([stream1, stream2])\n}\n\n/**\n * @param {Array} streams array of stream to merge\n * @returns {Stream} stream containing events from all input observables\n * in time order.  If two events are simultaneous they will be merged in\n * arbitrary order.\n */\nvar mergeArray = function (streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? streams[0]\n    : mergeStreams(streams); };\n\n/**\n * This implements fusion/flattening for merge.  It will\n * fuse adjacent merge operations.  For example:\n * - a.merge(b).merge(c) effectively becomes merge(a, b, c)\n * - merge(a, merge(b, c)) effectively becomes merge(a, b, c)\n * It does this by concatenating the sources arrays of\n * any nested Merge sources, in effect \"flattening\" nested\n * merge operations into a single merge.\n */\nvar mergeStreams = function (streams) { return new Merge(reduce(appendSources, [], streams)); };\n\nvar appendSources = function (sources, stream) { return sources.concat(stream instanceof Merge ? stream.sources : stream); };\n\nvar Merge = function Merge (sources) {\n  this.sources = sources;\n};\n\nMerge.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n\n  var mergeSink = new MergeSink(disposables, sinks, sink);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar MergeSink = (function (Pipe$$1) {\n  function MergeSink (disposables, sinks, sink) {\n    Pipe$$1.call(this, sink);\n    this.disposables = disposables;\n    this.activeCount = sinks.length;\n  }\n\n  if ( Pipe$$1 ) MergeSink.__proto__ = Pipe$$1;\n  MergeSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  MergeSink.prototype.constructor = MergeSink;\n\n  MergeSink.prototype.event = function event (t, indexValue) {\n    if (!indexValue.active) {\n      this._dispose(t, indexValue.index);\n      return\n    }\n    this.sink.event(t, indexValue.value);\n  };\n\n  MergeSink.prototype._dispose = function _dispose (t, index) {\n    tryDispose(t, this.disposables[index], this.sink);\n    if (--this.activeCount === 0) {\n      this.sink.end(t);\n    }\n  };\n\n  return MergeSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar sample$1 = function (f, sampler, stream) { return new Sample(f, sampler, stream); };\n\nvar Sample = function Sample (f, sampler, stream) {\n  this.source = stream;\n  this.sampler = sampler;\n  this.f = f;\n};\n\nSample.prototype.run = function run (sink, scheduler) {\n  var sampleSink = new SampleSink(this.f, this.source, sink);\n  var sourceDisposable = this.source.run(sampleSink.hold, scheduler);\n  var samplerDisposable = this.sampler.run(sampleSink, scheduler);\n\n  return disposeBoth(samplerDisposable, sourceDisposable)\n};\n\nvar SampleSink = (function (Pipe$$1) {\n  function SampleSink (f, source, sink) {\n    Pipe$$1.call(this, sink);\n    this.source = source;\n    this.f = f;\n    this.hold = new SampleHold(this);\n  }\n\n  if ( Pipe$$1 ) SampleSink.__proto__ = Pipe$$1;\n  SampleSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SampleSink.prototype.constructor = SampleSink;\n\n  SampleSink.prototype.event = function event (t, x) {\n    if (this.hold.hasValue) {\n      var f = this.f;\n      this.sink.event(t, f(x, this.hold.value));\n    }\n  };\n\n  return SampleSink;\n}(Pipe));\n\nvar SampleHold = (function (Pipe$$1) {\n  function SampleHold (sink) {\n    Pipe$$1.call(this, sink);\n    this.hasValue = false;\n  }\n\n  if ( Pipe$$1 ) SampleHold.__proto__ = Pipe$$1;\n  SampleHold.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SampleHold.prototype.constructor = SampleHold;\n\n  SampleHold.prototype.event = function event (t, x) {\n    this.value = x;\n    this.hasValue = true;\n  };\n\n  SampleHold.prototype.end = function end () {};\n\n  return SampleHold;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n// Based on https://github.com/petkaantonov/deque\n\nvar Queue = function Queue (capPow2) {\n  if ( capPow2 === void 0 ) capPow2 = 32;\n\n  this._capacity = capPow2;\n  this._length = 0;\n  this._head = 0;\n};\n\nQueue.prototype.push = function push (x) {\n  var len = this._length;\n  this._checkCapacity(len + 1);\n\n  var i = (this._head + len) & (this._capacity - 1);\n  this[i] = x;\n  this._length = len + 1;\n};\n\nQueue.prototype.shift = function shift () {\n  var head = this._head;\n  var x = this[head];\n\n  this[head] = void 0;\n  this._head = (head + 1) & (this._capacity - 1);\n  this._length--;\n  return x\n};\n\nQueue.prototype.isEmpty = function isEmpty () {\n  return this._length === 0\n};\n\nQueue.prototype.length = function length () {\n  return this._length\n};\n\nQueue.prototype._checkCapacity = function _checkCapacity (size) {\n  if (this._capacity < size) {\n    this._ensureCapacity(this._capacity << 1);\n  }\n};\n\nQueue.prototype._ensureCapacity = function _ensureCapacity (capacity) {\n  var oldCapacity = this._capacity;\n  this._capacity = capacity;\n\n  var last = this._head + this._length;\n\n  if (last > oldCapacity) {\n    copy(this, 0, this, oldCapacity, last & (oldCapacity - 1));\n  }\n};\n\nfunction copy (src, srcIndex, dst, dstIndex, len) {\n  for (var j = 0; j < len; ++j) {\n    dst[j + dstIndex] = src[j + srcIndex];\n    src[j + srcIndex] = void 0;\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Combine two streams pairwise by index by applying f to values at corresponding\n * indices.  The returned stream ends when either of the input streams ends.\n * @param {function} f function to combine values\n * @returns {Stream} new stream with items at corresponding indices combined\n *  using f\n */\nfunction zip$1 (f, stream1, stream2) {\n  return zipArray$1(f, [stream1, stream2])\n}\n\n/**\n* Combine streams pairwise (or tuple-wise) by index by applying f to values\n* at corresponding indices.  The returned stream ends when any of the input\n* streams ends.\n* @param {function} f function to combine values\n* @param {[Stream]} streams streams to zip using f\n* @returns {Stream} new stream with items at corresponding indices combined\n*  using f\n*/\nvar zipArray$1 = function (f, streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? map$2(f, streams[0])\n    : new Zip(f, streams); };\n\nvar Zip = function Zip (f, sources) {\n  this.f = f;\n  this.sources = sources;\n};\n\nZip.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n  var buffers = new Array(l);\n\n  var zipSink = new ZipSink(this.f, buffers, sinks, sink);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    buffers[i] = new Queue();\n    indexSink = sinks[i] = new IndexSink(i, zipSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar ZipSink = (function (Pipe$$1) {\n  function ZipSink (f, buffers, sinks, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.sinks = sinks;\n    this.buffers = buffers;\n  }\n\n  if ( Pipe$$1 ) ZipSink.__proto__ = Pipe$$1;\n  ZipSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ZipSink.prototype.constructor = ZipSink;\n\n  ZipSink.prototype.event = function event (t, indexedValue) {\n    /* eslint complexity: [1, 5] */\n    if (!indexedValue.active) {\n      this._dispose(t, indexedValue.index);\n      return\n    }\n\n    var buffers = this.buffers;\n    var buffer = buffers[indexedValue.index];\n\n    buffer.push(indexedValue.value);\n\n    if (buffer.length() === 1) {\n      if (!ready(this.buffers)) {\n        return\n      }\n\n      emitZipped(this.f, t, buffers, this.sink);\n\n      if (ended(this.buffers, this.sinks)) {\n        this.sink.end(t);\n      }\n    }\n  };\n\n  ZipSink.prototype._dispose = function _dispose (t, index) {\n    var buffer = this.buffers[index];\n    if (buffer.isEmpty()) {\n      this.sink.end(t);\n    }\n  };\n\n  return ZipSink;\n}(Pipe));\n\nvar emitZipped = function (f, t, buffers, sink) { return sink.event(t, invoke(f, map(head, buffers))); };\n\nvar head = function (buffer) { return buffer.shift(); };\n\nfunction ended (buffers, sinks) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty() && !sinks[i].active) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction ready (buffers) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty()) {\n      return false\n    }\n  }\n  return true\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Given a stream of streams, return a new stream that adopts the behavior\n * of the most recent inner stream.\n * @param {Stream} stream of streams on which to switch\n * @returns {Stream} switching stream\n */\nvar switchLatest = function (stream) { return new Switch(stream); };\n\nvar Switch = function Switch (source) {\n  this.source = source;\n};\n\nSwitch.prototype.run = function run (sink, scheduler) {\n  var switchSink = new SwitchSink(sink, scheduler);\n  return disposeBoth(switchSink, this.source.run(switchSink, scheduler))\n};\n\nvar SwitchSink = function SwitchSink (sink, scheduler) {\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.current = null;\n  this.ended = false;\n};\n\nSwitchSink.prototype.event = function event (t, stream) {\n  this._disposeCurrent(t);\n  this.current = new Segment(stream, t, Infinity, this, this.sink, this.scheduler);\n};\n\nSwitchSink.prototype.end = function end (t) {\n  this.ended = true;\n  this._checkEnd(t);\n};\n\nSwitchSink.prototype.error = function error (t, e) {\n  this.ended = true;\n  this.sink.error(t, e);\n};\n\nSwitchSink.prototype.dispose = function dispose () {\n  return this._disposeCurrent(currentTime(this.scheduler))\n};\n\nSwitchSink.prototype._disposeCurrent = function _disposeCurrent (t) {\n  if (this.current !== null) {\n    return this.current._dispose(t)\n  }\n};\n\nSwitchSink.prototype._disposeInner = function _disposeInner (t, inner) {\n  inner._dispose(t);\n  if (inner === this.current) {\n    this.current = null;\n  }\n};\n\nSwitchSink.prototype._checkEnd = function _checkEnd (t) {\n  if (this.ended && this.current === null) {\n    this.sink.end(t);\n  }\n};\n\nSwitchSink.prototype._endInner = function _endInner (t, inner) {\n  this._disposeInner(t, inner);\n  this._checkEnd(t);\n};\n\nSwitchSink.prototype._errorInner = function _errorInner (t, e, inner) {\n  this._disposeInner(t, inner);\n  this.sink.error(t, e);\n};\n\nvar Segment = function Segment (source, min, max, outer, sink, scheduler) {\n  this.min = min;\n  this.max = max;\n  this.outer = outer;\n  this.sink = sink;\n  this.disposable = source.run(this, schedulerRelativeTo(min, scheduler));\n};\n\nSegment.prototype.event = function event (t, x) {\n  var time = Math.max(0, t + this.min);\n  if (time < this.max) {\n    this.sink.event(time, x);\n  }\n};\n\nSegment.prototype.end = function end (t) {\n  this.outer._endInner(t + this.min, this);\n};\n\nSegment.prototype.error = function error (t, e) {\n  this.outer._errorInner(t + this.min, e, this);\n};\n\nSegment.prototype._dispose = function _dispose (t) {\n  tryDispose(t + this.min, this.disposable, this.sink);\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Retain only items matching a predicate\n * @param {function(x:*):boolean} p filtering predicate called for each item\n * @param {Stream} stream stream to filter\n * @returns {Stream} stream containing only items for which predicate returns truthy\n */\nvar filter$1 = function (p, stream) { return Filter.create(p, stream); };\n\n/**\n * Skip repeated events, using === to detect duplicates\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nvar skipRepeats = function (stream) { return skipRepeatsWith$1(same, stream); };\n\n/**\n * Skip repeated events using the provided equals function to detect duplicates\n * @param {function(a:*, b:*):boolean} equals optional function to compare items\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nvar skipRepeatsWith$1 = function (equals, stream) { return new SkipRepeats(equals, stream); };\n\nvar SkipRepeats = function SkipRepeats (equals, source) {\n  this.equals = equals;\n  this.source = source;\n};\n\nSkipRepeats.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipRepeatsSink(this.equals, sink), scheduler)\n};\n\nvar SkipRepeatsSink = (function (Pipe$$1) {\n  function SkipRepeatsSink (equals, sink) {\n    Pipe$$1.call(this, sink);\n    this.equals = equals;\n    this.value = void 0;\n    this.init = true;\n  }\n\n  if ( Pipe$$1 ) SkipRepeatsSink.__proto__ = Pipe$$1;\n  SkipRepeatsSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipRepeatsSink.prototype.constructor = SkipRepeatsSink;\n\n  SkipRepeatsSink.prototype.event = function event (t, x) {\n    if (this.init) {\n      this.init = false;\n      this.value = x;\n      this.sink.event(t, x);\n    } else if (!this.equals(this.value, x)) {\n      this.value = x;\n      this.sink.event(t, x);\n    }\n  };\n\n  return SkipRepeatsSink;\n}(Pipe));\n\nfunction same (a, b) {\n  return a === b\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream containing only up to the first n items from stream\n */\nvar take$1 = function (n, stream) { return slice$1(0, n, stream); };\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream with the first n items removed\n */\nvar skip$1 = function (n, stream) { return slice$1(n, Infinity, stream); };\n\n/**\n * Slice a stream by index. Negative start/end indexes are not supported\n * @param {number} start\n * @param {number} end\n * @param {Stream} stream\n * @returns {Stream} stream containing items where start <= index < end\n */\nvar slice$1 = function (start, end, stream) { return end <= start ? empty() : sliceSource(start, end, stream); };\n\nvar sliceSource = function (start, end, stream) { return stream instanceof Map ? commuteMapSlice(start, end, stream)\n    : stream instanceof Slice ? fuseSlice(start, end, stream)\n    : new Slice(start, end, stream); };\n\nvar commuteMapSlice = function (start, end, mapStream) { return Map.create(mapStream.f, sliceSource(start, end, mapStream.source)); };\n\nfunction fuseSlice (start, end, sliceStream) {\n  var fusedStart = start + sliceStream.min;\n  var fusedEnd = Math.min(end + sliceStream.min, sliceStream.max);\n  return new Slice(fusedStart, fusedEnd, sliceStream.source)\n}\n\nvar Slice = function Slice (min, max, source) {\n  this.source = source;\n  this.min = min;\n  this.max = max;\n};\n\nSlice.prototype.run = function run (sink, scheduler) {\n  var disposable = new SettableDisposable();\n  var sliceSink = new SliceSink(this.min, this.max - this.min, sink, disposable);\n\n  disposable.setDisposable(this.source.run(sliceSink, scheduler));\n\n  return disposable\n};\n\nvar SliceSink = (function (Pipe$$1) {\n  function SliceSink (skip, take, sink, disposable) {\n    Pipe$$1.call(this, sink);\n    this.skip = skip;\n    this.take = take;\n    this.disposable = disposable;\n  }\n\n  if ( Pipe$$1 ) SliceSink.__proto__ = Pipe$$1;\n  SliceSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SliceSink.prototype.constructor = SliceSink;\n\n  SliceSink.prototype.event = function event (t, x) {\n    /* eslint complexity: [1, 4] */\n    if (this.skip > 0) {\n      this.skip -= 1;\n      return\n    }\n\n    if (this.take === 0) {\n      return\n    }\n\n    this.take -= 1;\n    this.sink.event(t, x);\n    if (this.take === 0) {\n      this.disposable.dispose();\n      this.sink.end(t);\n    }\n  };\n\n  return SliceSink;\n}(Pipe));\n\nvar takeWhile$1 = function (p, stream) { return new TakeWhile(p, stream); };\n\nvar TakeWhile = function TakeWhile (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nTakeWhile.prototype.run = function run (sink, scheduler) {\n  var disposable = new SettableDisposable();\n  var takeWhileSink = new TakeWhileSink(this.p, sink, disposable);\n\n  disposable.setDisposable(this.source.run(takeWhileSink, scheduler));\n\n  return disposable\n};\n\nvar TakeWhileSink = (function (Pipe$$1) {\n  function TakeWhileSink (p, sink, disposable) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.active = true;\n    this.disposable = disposable;\n  }\n\n  if ( Pipe$$1 ) TakeWhileSink.__proto__ = Pipe$$1;\n  TakeWhileSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TakeWhileSink.prototype.constructor = TakeWhileSink;\n\n  TakeWhileSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n\n    var p = this.p;\n    this.active = p(x);\n\n    if (this.active) {\n      this.sink.event(t, x);\n    } else {\n      this.disposable.dispose();\n      this.sink.end(t);\n    }\n  };\n\n  return TakeWhileSink;\n}(Pipe));\n\nvar skipWhile$1 = function (p, stream) { return new SkipWhile(p, stream); };\n\nvar SkipWhile = function SkipWhile (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nSkipWhile.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipWhileSink(this.p, sink), scheduler)\n};\n\nvar SkipWhileSink = (function (Pipe$$1) {\n  function SkipWhileSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.skipping = true;\n  }\n\n  if ( Pipe$$1 ) SkipWhileSink.__proto__ = Pipe$$1;\n  SkipWhileSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipWhileSink.prototype.constructor = SkipWhileSink;\n\n  SkipWhileSink.prototype.event = function event (t, x) {\n    if (this.skipping) {\n      var p = this.p;\n      this.skipping = p(x);\n      if (this.skipping) {\n        return\n      }\n    }\n\n    this.sink.event(t, x);\n  };\n\n  return SkipWhileSink;\n}(Pipe));\n\nvar skipAfter$1 = function (p, stream) { return new SkipAfter(p, stream); };\n\nvar SkipAfter = function SkipAfter (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nSkipAfter.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipAfterSink(this.p, sink), scheduler)\n};\n\nvar SkipAfterSink = (function (Pipe$$1) {\n  function SkipAfterSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.skipping = false;\n  }\n\n  if ( Pipe$$1 ) SkipAfterSink.__proto__ = Pipe$$1;\n  SkipAfterSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipAfterSink.prototype.constructor = SkipAfterSink;\n\n  SkipAfterSink.prototype.event = function event (t, x) {\n    if (this.skipping) {\n      return\n    }\n\n    var p = this.p;\n    this.skipping = p(x);\n    this.sink.event(t, x);\n\n    if (this.skipping) {\n      this.sink.end(t);\n    }\n  };\n\n  return SkipAfterSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar until$1 = function (signal, stream) { return new Until(signal, stream); };\n\nvar since$1 = function (signal, stream) { return new Since(signal, stream); };\n\nvar during$1 = function (timeWindow, stream) { return until$1(join(timeWindow), since$1(timeWindow, stream)); };\n\nvar Until = function Until (maxSignal, source) {\n  this.maxSignal = maxSignal;\n  this.source = source;\n};\n\nUntil.prototype.run = function run (sink, scheduler) {\n  var min = new Bound(-Infinity, sink);\n  var max = new UpperBound(this.maxSignal, sink, scheduler);\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler);\n\n  return disposeAll([min, max, disposable])\n};\n\nvar Since = function Since (minSignal, source) {\n  this.minSignal = minSignal;\n  this.source = source;\n};\n\nSince.prototype.run = function run (sink, scheduler) {\n  var min = new LowerBound(this.minSignal, sink, scheduler);\n  var max = new Bound(Infinity, sink);\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler);\n\n  return disposeAll([min, max, disposable])\n};\n\nvar Bound = (function (Pipe$$1) {\n  function Bound (value, sink) {\n    Pipe$$1.call(this, sink);\n    this.value = value;\n  }\n\n  if ( Pipe$$1 ) Bound.__proto__ = Pipe$$1;\n  Bound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  Bound.prototype.constructor = Bound;\n\n  Bound.prototype.event = function event () {};\n  Bound.prototype.end = function end () {};\n\n  Bound.prototype.dispose = function dispose () {};\n\n  return Bound;\n}(Pipe));\n\nvar TimeWindowSink = (function (Pipe$$1) {\n  function TimeWindowSink (min, max, sink) {\n    Pipe$$1.call(this, sink);\n    this.min = min;\n    this.max = max;\n  }\n\n  if ( Pipe$$1 ) TimeWindowSink.__proto__ = Pipe$$1;\n  TimeWindowSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TimeWindowSink.prototype.constructor = TimeWindowSink;\n\n  TimeWindowSink.prototype.event = function event (t, x) {\n    if (t >= this.min.value && t < this.max.value) {\n      this.sink.event(t, x);\n    }\n  };\n\n  return TimeWindowSink;\n}(Pipe));\n\nvar LowerBound = (function (Pipe$$1) {\n  function LowerBound (signal, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.value = Infinity;\n    this.disposable = signal.run(this, scheduler);\n  }\n\n  if ( Pipe$$1 ) LowerBound.__proto__ = Pipe$$1;\n  LowerBound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  LowerBound.prototype.constructor = LowerBound;\n\n  LowerBound.prototype.event = function event (t /*, x */) {\n    if (t < this.value) {\n      this.value = t;\n    }\n  };\n\n  LowerBound.prototype.end = function end () {};\n\n  LowerBound.prototype.dispose = function dispose () {\n    return this.disposable.dispose()\n  };\n\n  return LowerBound;\n}(Pipe));\n\nvar UpperBound = (function (Pipe$$1) {\n  function UpperBound (signal, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.value = Infinity;\n    this.disposable = signal.run(this, scheduler);\n  }\n\n  if ( Pipe$$1 ) UpperBound.__proto__ = Pipe$$1;\n  UpperBound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  UpperBound.prototype.constructor = UpperBound;\n\n  UpperBound.prototype.event = function event (t, x) {\n    if (t < this.value) {\n      this.value = t;\n      this.sink.end(t);\n    }\n  };\n\n  UpperBound.prototype.end = function end () {};\n\n  UpperBound.prototype.dispose = function dispose () {\n    return this.disposable.dispose()\n  };\n\n  return UpperBound;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @param {Number} delayTime milliseconds to delay each item\n * @param {Stream} stream\n * @returns {Stream} new stream containing the same items, but delayed by ms\n */\nvar delay$2 = function (delayTime, stream) { return delayTime <= 0 ? stream : new Delay(delayTime, stream); };\n\nvar Delay = function Delay (dt, source) {\n  this.dt = dt;\n  this.source = source;\n};\n\nDelay.prototype.run = function run (sink, scheduler) {\n  var delaySink = new DelaySink(this.dt, sink, scheduler);\n  return disposeBoth(delaySink, this.source.run(delaySink, scheduler))\n};\n\nvar DelaySink = (function (Pipe$$1) {\n  function DelaySink (dt, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.dt = dt;\n    this.scheduler = scheduler;\n  }\n\n  if ( Pipe$$1 ) DelaySink.__proto__ = Pipe$$1;\n  DelaySink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  DelaySink.prototype.constructor = DelaySink;\n\n  DelaySink.prototype.dispose = function dispose () {\n    var this$1 = this;\n\n    cancelAllTasks(function (task) { return task.sink === this$1.sink; }, this.scheduler);\n  };\n\n  DelaySink.prototype.event = function event (t, x) {\n    delay(this.dt, propagateEventTask$1(x, this.sink), this.scheduler);\n  };\n\n  DelaySink.prototype.end = function end (t) {\n    delay(this.dt, propagateEndTask(this.sink), this.scheduler);\n  };\n\n  return DelaySink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/**\n * Limit the rate of events by suppressing events that occur too often\n * @param {Number} period time to suppress events\n * @param {Stream} stream\n * @returns {Stream}\n */\nvar throttle$1 = function (period, stream) { return stream instanceof Map ? commuteMapThrottle(period, stream)\n    : stream instanceof Throttle ? fuseThrottle(period, stream)\n    : new Throttle(period, stream); };\n\nvar commuteMapThrottle = function (period, mapStream) { return Map.create(mapStream.f, throttle$1(period, mapStream.source)); };\n\nvar fuseThrottle = function (period, throttleStream) { return new Throttle(Math.max(period, throttleStream.period), throttleStream.source); };\n\nvar Throttle = function Throttle (period, source) {\n  this.period = period;\n  this.source = source;\n};\n\nThrottle.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new ThrottleSink(this.period, sink), scheduler)\n};\n\nvar ThrottleSink = (function (Pipe$$1) {\n  function ThrottleSink (period, sink) {\n    Pipe$$1.call(this, sink);\n    this.time = 0;\n    this.period = period;\n  }\n\n  if ( Pipe$$1 ) ThrottleSink.__proto__ = Pipe$$1;\n  ThrottleSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ThrottleSink.prototype.constructor = ThrottleSink;\n\n  ThrottleSink.prototype.event = function event (t, x) {\n    if (t >= this.time) {\n      this.time = t + this.period;\n      this.sink.event(t, x);\n    }\n  };\n\n  return ThrottleSink;\n}(Pipe));\n/**\n * Wait for a burst of events to subside and emit only the last event in the burst\n * @param {Number} period events occuring more frequently than this\n *  will be suppressed\n * @param {Stream} stream stream to debounce\n * @returns {Stream} new debounced stream\n */\nvar debounce$1 = function (period, stream) { return new Debounce(period, stream); };\n\nvar Debounce = function Debounce (dt, source) {\n  this.dt = dt;\n  this.source = source;\n};\n\nDebounce.prototype.run = function run (sink, scheduler) {\n  return new DebounceSink(this.dt, this.source, sink, scheduler)\n};\n\nvar DebounceSink = function DebounceSink (dt, source, sink, scheduler) {\n  this.dt = dt;\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.value = void 0;\n  this.timer = null;\n\n  this.disposable = source.run(this, scheduler);\n};\n\nDebounceSink.prototype.event = function event (t, x) {\n  this._clearTimer();\n  this.value = x;\n  this.timer = delay(this.dt, propagateEventTask$1(x, this.sink), this.scheduler);\n};\n\nDebounceSink.prototype.end = function end (t) {\n  if (this._clearTimer()) {\n    this.sink.event(t, this.value);\n    this.value = undefined;\n  }\n  this.sink.end(t);\n};\n\nDebounceSink.prototype.error = function error (t, x) {\n  this._clearTimer();\n  this.sink.error(t, x);\n};\n\nDebounceSink.prototype.dispose = function dispose () {\n  this._clearTimer();\n  this.disposable.dispose();\n};\n\nDebounceSink.prototype._clearTimer = function _clearTimer () {\n  if (this.timer === null) {\n    return false\n  }\n  this.timer.dispose();\n  this.timer = null;\n  return true\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Turn a Stream<Promise<T>> into Stream<T> by awaiting each promise.\n * Event order is preserved. The stream will fail if any promise rejects.\n */\nvar awaitPromises = function (stream) { return new Await(stream); };\n\n/**\n * Create a stream containing only the promise's fulfillment\n * value at the time it fulfills.\n * @param {Promise<T>} p promise\n * @return {Stream<T>} stream containing promise's fulfillment value.\n *  If the promise rejects, the stream will error\n */\nvar fromPromise = compose(awaitPromises, now);\n\nvar Await = function Await (source) {\n  this.source = source;\n};\n\nAwait.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new AwaitSink(sink, scheduler), scheduler)\n};\n\nvar AwaitSink = function AwaitSink (sink, scheduler) {\n  var this$1 = this;\n\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.queue = Promise.resolve();\n\n  // Pre-create closures, to avoid creating them per event\n  this._eventBound = function (x) { return this$1.sink.event(currentTime(this$1.scheduler), x); };\n  this._endBound = function () { return this$1.sink.end(currentTime(this$1.scheduler)); };\n  this._errorBound = function (e) { return this$1.sink.error(currentTime(this$1.scheduler), e); };\n};\n\nAwaitSink.prototype.event = function event (t, promise) {\n    var this$1 = this;\n\n  this.queue = this.queue.then(function () { return this$1._event(promise); })\n    .catch(this._errorBound);\n};\n\nAwaitSink.prototype.end = function end (t) {\n  this.queue = this.queue.then(this._endBound)\n    .catch(this._errorBound);\n};\n\nAwaitSink.prototype.error = function error (t, e) {\n    var this$1 = this;\n\n  // Don't resolve error values, propagate directly\n  this.queue = this.queue.then(function () { return this$1._errorBound(e); })\n    .catch(fatalError);\n};\n\nAwaitSink.prototype._event = function _event (promise) {\n  return promise.then(this._eventBound)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar SafeSink = function SafeSink (sink) {\n  this.sink = sink;\n  this.active = true;\n};\n\nSafeSink.prototype.event = function event (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.sink.event(t, x);\n};\n\nSafeSink.prototype.end = function end (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.disable();\n  this.sink.end(t, x);\n};\n\nSafeSink.prototype.error = function error (t, e) {\n  this.disable();\n  this.sink.error(t, e);\n};\n\nSafeSink.prototype.disable = function disable () {\n  this.active = false;\n  return this.sink\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction tryEvent (t, x, sink) {\n  try {\n    sink.event(t, x);\n  } catch (e) {\n    sink.error(t, e);\n  }\n}\n\nfunction tryEnd (t, sink) {\n  try {\n    sink.end(t);\n  } catch (e) {\n    sink.error(t, e);\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * If stream encounters an error, recover and continue with items from stream\n * returned by f.\n * @param {function(error:*):Stream} f function which returns a new stream\n * @param {Stream} stream\n * @returns {Stream} new stream which will recover from an error by calling f\n */\nvar recoverWith$1 = function (f, stream) { return new RecoverWith(f, stream); };\n\n/**\n * Create a stream containing only an error\n * @param {*} e error value, preferably an Error or Error subtype\n * @returns {Stream} new stream containing only an error\n */\nvar throwError = function (e) { return new ErrorStream(e); };\n\nvar ErrorStream = function ErrorStream (e) {\n  this.value = e;\n};\n\nErrorStream.prototype.run = function run (sink, scheduler) {\n  return asap(propagateErrorTask$1(this.value, sink), scheduler)\n};\n\nvar RecoverWith = function RecoverWith (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nRecoverWith.prototype.run = function run (sink, scheduler) {\n  return new RecoverWithSink(this.f, this.source, sink, scheduler)\n};\n\nvar RecoverWithSink = function RecoverWithSink (f, source, sink, scheduler) {\n  this.f = f;\n  this.sink = new SafeSink(sink);\n  this.scheduler = scheduler;\n  this.disposable = source.run(this, scheduler);\n};\n\nRecoverWithSink.prototype.event = function event (t, x) {\n  tryEvent(t, x, this.sink);\n};\n\nRecoverWithSink.prototype.end = function end (t) {\n  tryEnd(t, this.sink);\n};\n\nRecoverWithSink.prototype.error = function error (t, e) {\n  var nextSink = this.sink.disable();\n\n  tryDispose(t, this.disposable, this.sink);\n\n  this._startNext(t, e, nextSink);\n};\n\nRecoverWithSink.prototype._startNext = function _startNext (t, x, sink) {\n  try {\n    this.disposable = this._continue(this.f, t, x, sink);\n  } catch (e) {\n    sink.error(t, e);\n  }\n};\n\nRecoverWithSink.prototype._continue = function _continue (f, t, x, sink) {\n  return run$1(sink, this.scheduler, withLocalTime$1(t, f(x)))\n};\n\nRecoverWithSink.prototype.dispose = function dispose () {\n  return this.disposable.dispose()\n};\n\nvar multicast = function (stream) { return stream instanceof Multicast ? stream : new Multicast(stream); };\n\nvar Multicast = function Multicast (source) {\n  this.source = new MulticastSource(source);\n};\nMulticast.prototype.run = function run (sink, scheduler) {\n  return this.source.run(sink, scheduler)\n};\n\nvar MulticastSource = function MulticastSource (source) {\n  this.source = source;\n  this.sinks = [];\n  this.disposable = disposeNone();\n};\n\nMulticastSource.prototype.run = function run (sink, scheduler) {\n  var n = this.add(sink);\n  if (n === 1) {\n    this.disposable = this.source.run(this, scheduler);\n  }\n  return disposeOnce(new MulticastDisposable(this, sink))\n};\n\nMulticastSource.prototype.dispose = function dispose () {\n  var disposable = this.disposable;\n  this.disposable = disposeNone();\n  return disposable.dispose()\n};\n\nMulticastSource.prototype.add = function add (sink) {\n  this.sinks = append(sink, this.sinks);\n  return this.sinks.length\n};\n\nMulticastSource.prototype.remove = function remove$1 (sink) {\n  var i = findIndex(sink, this.sinks);\n  // istanbul ignore next\n  if (i >= 0) {\n    this.sinks = remove(i, this.sinks);\n  }\n\n  return this.sinks.length\n};\n\nMulticastSource.prototype.event = function event (time, value) {\n  var s = this.sinks;\n  if (s.length === 1) {\n    return s[0].event(time, value)\n  }\n  for (var i = 0; i < s.length; ++i) {\n    tryEvent(time, value, s[i]);\n  }\n};\n\nMulticastSource.prototype.end = function end (time) {\n  var s = this.sinks;\n  for (var i = 0; i < s.length; ++i) {\n    tryEnd(time, s[i]);\n  }\n};\n\nMulticastSource.prototype.error = function error (time, err) {\n  var s = this.sinks;\n  for (var i = 0; i < s.length; ++i) {\n    s[i].error(time, err);\n  }\n};\n\nvar MulticastDisposable = function MulticastDisposable (source, sink) {\n  this.source = source;\n  this.sink = sink;\n};\n\nMulticastDisposable.prototype.dispose = function dispose () {\n  if (this.source.remove(this.sink) === 0) {\n    this.source.dispose();\n  }\n};\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n/* eslint-disable import/first */\nvar zipArrayValues = curry3(zipArrayValues$1);\nvar withArrayValues = curry2(withArrayValues$1);\n\n// -----------------------------------------------------------------------\n// Observing\n\nvar runEffects = curry2(runEffects$1);\nvar run = curry3(run$1);\n\n// -------------------------------------------------------\n\nvar withLocalTime = curry2(withLocalTime$1);\n\n// -------------------------------------------------------\n\nvar loop = curry3(loop$1);\n\n// -------------------------------------------------------\n\nvar scan = curry3(scan$1);\n\n// -----------------------------------------------------------------------\n// Extending\n\nvar startWith = curry2(startWith$1);\n\n// -----------------------------------------------------------------------\n// Transforming\n\nvar map$1 = curry2(map$2);\nvar constant = curry2(constant$1);\nvar tap = curry2(tap$1);\nvar ap = curry2(ap$1);\n\n// -----------------------------------------------------------------------\n// FlatMapping\n\nvar chain = curry2(chain$1);\nvar continueWith = curry2(continueWith$1);\n\nvar concatMap = curry2(concatMap$1);\n\n// -----------------------------------------------------------------------\n// Concurrent merging\n\nvar mergeConcurrently = curry2(mergeConcurrently$1);\nvar mergeMapConcurrently = curry3(mergeMapConcurrently$1);\n\n// -----------------------------------------------------------------------\n// Merging\n\nvar merge = curry2(merge$1);\n// -----------------------------------------------------------------------\n// Combining\n\nvar combine = curry3(combine$1);\nvar combineArray = curry2(combineArray$1);\n\n// -----------------------------------------------------------------------\n// Sampling\n\nvar sample = curry3(sample$1);\n\n// -----------------------------------------------------------------------\n// Zipping\n\nvar zip = curry3(zip$1);\nvar zipArray = curry2(zipArray$1);\n\n// -----------------------------------------------------------------------\n// Filtering\n\nvar filter = curry2(filter$1);\nvar skipRepeatsWith = curry2(skipRepeatsWith$1);\n\n// -----------------------------------------------------------------------\n// Slicing\n\nvar take = curry2(take$1);\nvar skip = curry2(skip$1);\nvar slice = curry3(slice$1);\nvar takeWhile = curry2(takeWhile$1);\nvar skipWhile = curry2(skipWhile$1);\nvar skipAfter = curry2(skipAfter$1);\n\n// -----------------------------------------------------------------------\n// Time slicing\n\nvar until = curry2(until$1);\nvar since = curry2(since$1);\nvar during = curry2(during$1);\n\n// -----------------------------------------------------------------------\n// Delaying\n\nvar delay$1 = curry2(delay$2);\n\n// -----------------------------------------------------------------------\n// Rate limiting\n\nvar throttle = curry2(throttle$1);\nvar debounce = curry2(debounce$1);\n\n// -----------------------------------------------------------------------\n// Error handling\n\nvar recoverWith = curry2(recoverWith$1);\n// ----------------------------------------------------------------------\nvar propagateTask = curry3(propagateTask$1);\nvar propagateEventTask = curry2(propagateEventTask$1);\nvar propagateErrorTask = curry2(propagateErrorTask$1);\n\nexport { zipArrayValues, withArrayValues, runEffects, run, withLocalTime, loop, scan, startWith, map$1 as map, constant, tap, ap, chain, join, continueWith, concatMap, mergeConcurrently, mergeMapConcurrently, merge, mergeArray, combine, combineArray, sample, zip, zipArray, filter, skipRepeats, skipRepeatsWith, take, skip, slice, takeWhile, skipWhile, skipAfter, until, since, during, delay$1 as delay, throttle, debounce, recoverWith, throwError, propagateTask, propagateEventTask, propagateErrorTask, propagateEndTask, empty, never, now, at, periodic$1 as periodic, newStream, switchLatest, fromPromise, awaitPromises, multicast, MulticastSource };\n//# sourceMappingURL=mostCore.es.js.map\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { MulticastSource, never } from '@most/core';\nvar ProxyStream = /** @class */ (function (_super) {\n    __extends(ProxyStream, _super);\n    function ProxyStream() {\n        var _this = _super.call(this, never()) || this;\n        _this.attached = false;\n        _this.running = false;\n        return _this;\n    }\n    ProxyStream.prototype.run = function (sink, scheduler) {\n        this.scheduler = scheduler;\n        this.add(sink);\n        var shouldRun = this.attached && !this.running;\n        if (shouldRun) {\n            this.running = true;\n            this.disposable = this.source.run(this, scheduler);\n            return this.disposable;\n        }\n        return new ProxyDisposable(this, sink);\n    };\n    ProxyStream.prototype.attach = function (stream) {\n        if (this.attached)\n            throw new Error('Can only attach 1 stream');\n        this.attached = true;\n        this.source = stream;\n        var hasMoreSinks = this.sinks.length > 0;\n        if (hasMoreSinks)\n            this.disposable = stream.run(this, this.scheduler);\n        return stream;\n    };\n    ProxyStream.prototype.error = function (time, error) {\n        this.cleanup();\n        _super.prototype.error.call(this, time, error);\n    };\n    ProxyStream.prototype.end = function (time) {\n        this.cleanup();\n        _super.prototype.end.call(this, time);\n    };\n    ProxyStream.prototype.cleanup = function () {\n        this.attached = false;\n        this.running = false;\n    };\n    return ProxyStream;\n}(MulticastSource));\nexport { ProxyStream };\nvar ProxyDisposable = /** @class */ (function () {\n    function ProxyDisposable(source, sink) {\n        this.source = source;\n        this.sink = sink;\n        this.disposed = false;\n    }\n    ProxyDisposable.prototype.dispose = function () {\n        if (this.disposed)\n            return;\n        var _a = this, source = _a.source, sink = _a.sink;\n        this.disposed = true;\n        var remainingSinks = source.remove(sink);\n        var hasNoMoreSinks = remainingSinks === 0;\n        return hasNoMoreSinks && source.dispose();\n    };\n    return ProxyDisposable;\n}());\n//# sourceMappingURL=ProxyStream.js.map","import { ProxyStream } from './ProxyStream';\nimport { id } from '@most/prelude';\nexport function create(f) {\n    if (f === void 0) { f = id; }\n    var source = new ProxyStream();\n    return [source, f(source)];\n}\n//# sourceMappingURL=create.js.map","import { curry2 } from '@most/prelude';\nexport var end = curry2(__end);\nfunction __end(time, sink) {\n    sink.end(time);\n}\n//# sourceMappingURL=end.js.map","import { curry3 } from '@most/prelude';\nexport var error = curry3(__error);\nfunction __error(time, error, sink) {\n    sink.error(time, error);\n}\n//# sourceMappingURL=error.js.map","import { curry3 } from '@most/prelude';\nexport var event = curry3(__event);\nfunction __event(time, value, sink) {\n    sink.event(time, value);\n}\n//# sourceMappingURL=event.js.map","export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","export default function _isNumber(x) {\n  return Object.prototype.toString.call(x) === '[object Number]';\n}","import _curry2 from \"./internal/_curry2.js\";\nimport _isNumber from \"./internal/_isNumber.js\";\n/**\n * Returns a list of numbers from `from` (inclusive) to `to` (exclusive).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> Number -> [Number]\n * @param {Number} from The first number in the list.\n * @param {Number} to One more than the last number in the list.\n * @return {Array} The list of numbers in the set `[a, b)`.\n * @example\n *\n *      R.range(1, 5);    //=> [1, 2, 3, 4]\n *      R.range(50, 53);  //=> [50, 51, 52]\n */\n\nvar range =\n/*#__PURE__*/\n_curry2(function range(from, to) {\n  if (!(_isNumber(from) && _isNumber(to))) {\n    throw new TypeError('Both arguments to range must be numbers');\n  }\n\n  var result = [];\n  var n = from;\n\n  while (n < to) {\n    result.push(n);\n    n += 1;\n  }\n\n  return result;\n});\n\nexport default range;"],"sourceRoot":""}