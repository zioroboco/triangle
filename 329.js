(window.webpackJsonp=window.webpackJsonp||[]).push([[329],{7329:(t,o,e)=>{"use strict";e.r(o),e.d(o,{scheduler:()=>h,worldSink:()=>j,worldStream:()=>P,nextWorld:()=>m,updateSink:()=>x,updateStream:()=>U,nextUpdate:()=>Y});var n=e(8691),a=e(8255),s=e(7113),r=e(2973);const i=(t,o)=>Math.random()*(o-t)+t,d=(t=n.N)=>{let o=[],e=[];return(0,s.Z)(0,t).forEach(t=>{const a=r.y3.RotationAxis(r.P.Up(),i(0,2*Math.PI)),s=r.P.TransformCoordinates(r.P.Forward().scale(i(2.5,4)),a),d=r.y3.RotationAxis(r.P.Up(),i(.1,.2)),l=r.P.TransformCoordinates(r.P.Cross(s,r.P.Up()).scale(i(.3,.6)),d);o[t*n.jY+n.lG]=s.x,o[t*n.jY+n.Jj]=s.z,e[t*n.jY+n.lG]=l.x,e[t*n.jY+n.Jj]=l.z}),[new Float32Array(o),new Float32Array(e)]};var l,p;let c,u=null===(p=null===(l=t.hot)||void 0===l?void 0:l.data)||void 0===p?void 0:p.state;e.e(235).then(e.bind(e,7235)).then(({State:t})=>{U.run({event:()=>{c.update();const t=c.positions();m({positions:(0,s.Z)(0,n.N).map(o=>new a.Vector3(t[o*n.jY+n.lG],0,t[o*n.jY+n.Jj]))})},end:()=>{},error:()=>{}},h),null==c||c.free(),c=(null==u?void 0:u.hot)?t.init(u.ps,u.vs):t.init(...d())}),t.hot.addDisposeHandler(t=>{const o={ps:c.positions(),vs:c.velocities(),hot:!0};t.state=o});var v=e(8745),w=e(4679);const h=(0,w.e4)(),[j,P]=v.Ue(),m=t=>{v.B((0,w.$0)(h),t,j)},[x,U]=v.Ue(),Y=t=>{v.B((0,w.$0)(h),t,x)}}}]);
//# sourceMappingURL=329.js.map